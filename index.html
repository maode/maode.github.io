<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="https://maode.github.io">
  <title>Code0&#39;s notepad</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Code0&#39;s notepad">
<meta property="og:url" content="https://maode.github.io/index.html">
<meta property="og:site_name" content="Code0&#39;s notepad">
<meta property="og:locale">
<meta property="article:author" content="Code0">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Code0&#39;s notepad" type="application/atom+xml">
  
  
    <link rel="icon" href="/assets/img/favicon.ico">
  
  <link rel="stylesheet" type="text/css" href="/./main.266c1c.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/assets/img/plan.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/"></a></h1>
		</hgroup>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于本站</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/maode" title="github"><i class="icon-github"></i></a>
		        
					<a class="rss" target="_blank" href="/atom.xml" title="rss"><i class="icon-rss"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/assets/img/plan.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author"></h1>
			</hgroup>
			
			
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/maode" title="github"><i class="icon-github"></i></a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss"><i class="icon-rss"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 100%"><a href="/">主页</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-211119-vsftp-use" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-vsftp-use/">vsftp容器启动并内网穿透注意事项</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-vsftp-use/" class="archive-article-date">
  	<time datetime="2022-10-26T09:11:07.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>使用镜像：fauria&#x2F;vsftpd</p>
<h1 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h1><ol>
<li>要开启被动模式，默认应该是开启的<code>PASV_ENABLE=true</code></li>
<li>设置被动模式下，使用哪些端口进行数据传输<code>PASV_MIN_PORT</code>和<code>PASV_MAX_PORT</code>，此处的端口范围决定了同时在线数的大小，每一个连接时会占用一个端口。<br><strong>注意：</strong> <code>PASV_MIN_PORT</code>和<code>PASV_MAX_PORT</code>的端口范围，必须要 容器，宿主机，外网服务器（穿透服务所在的主机） 三者保持相同。否则无法正常映射。</li>
<li>将21端口随便映射一个端口，用于用户连接。</li>
<li>设置用户上传文件的默认权限码为<code>022</code>。   </li>
<li>指定被动模式下使用的IP地址为外网服务器地址，即穿透服务所在的主机的地址<code>PASV_ADDRESS=139.198.16.241</code>。（如果不指定，默认会绑定容器的路由IP）   </li>
<li>挂载宿主机的一个目录到vsftp的用户目录，如:<code>-v /data/ftptest:/home/vsftpd/user1 </code>。该命令代表user1用户登陆后使用的主目录映射到宿主机的<code>/data/ftptest</code>目录。</li>
</ol>
<h1 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h1><p>如果添加新的用户，要进入容器内部进行添加，然后参考步骤6的方式，将宿主机的某个目录映射到新用户的主目录即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker exec -i -t vsftpd bash</span><br><span class="line">mkdir /home/vsftpd/myuser</span><br><span class="line">echo -e &quot;myuser\nmypass&quot; &gt;&gt; /etc/vsftpd/virtual_users.txt # 注意 用户名和密码之间有个\n</span><br><span class="line">/usr/bin/db_load -T -t hash -f /etc/vsftpd/virtual_users.txt /etc/vsftpd/virtual_users.db</span><br><span class="line">exit</span><br><span class="line">docker restart vsftpd</span><br></pre></td></tr></table></figure>

<p>#权限码说明</p>
<table>
<thead>
<tr>
<th>权限码</th>
<th>文件夹上传后的权限</th>
<th>文件上传后的权限</th>
</tr>
</thead>
<tbody><tr>
<td>077</td>
<td>700</td>
<td>600</td>
</tr>
<tr>
<td>022</td>
<td>755</td>
<td>644</td>
</tr>
</tbody></table>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">vsftp</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-vsftp-use/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-nfs-install" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-nfs-install/">nfs搭建和常用命令</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-nfs-install/" class="archive-article-date">
  	<time datetime="2022-10-26T09:05:38.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="配置NFS服务器"><a href="#配置NFS服务器" class="headerlink" title="配置NFS服务器"></a>配置NFS服务器</h1><ul>
<li>执行<code> yum install nfs-utils rpcbind -y</code>安装nfs环境。<code>rpcbind</code>是依赖。（Debian系执行命令：<code>apt install nfs-kernel-server</code>）</li>
<li>执行 <code>mkdir /root/nfs_root</code> 创建共享目录。（目录名随意，这里只是个例子）。</li>
<li>执行命令 <code>vim /etc/exports</code>，创建 exports 文件，文件内容如下:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/root/nfs_root/ *(insecure,rw,sync,no_root_squash) # `*` 表示允许所有IP挂载，可以指定为具体的IP或CIDR网段。括号中的参数具体含义参考最后的表格</span><br></pre></td></tr></table></figure></li>
<li>启动<code>rpc</code>和<code>nfs</code>服务，并设置为开机启动。命令如下：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  # 开机启动</span><br><span class="line">  systemctl enable rpcbind</span><br><span class="line">  systemctl enable nfs-server</span><br><span class="line">  # 启动服务</span><br><span class="line">  systemctl start rpcbind</span><br><span class="line">  systemctl start nfs-server # nfs 启动后的status为 `active (exited) ` 是正常现象。因为该服务不需要常驻，只需运行一次便可。</span><br><span class="line">  # 重新加载配置</span><br><span class="line">  systemctl reload nfs-server </span><br><span class="line">  或</span><br><span class="line">  exportfs -r</span><br><span class="line">  ```  </span><br><span class="line">- 检查配置是否生效，执行`exportfs`命令。如果输出刚才配置的目录，说明已生效。</span><br><span class="line">- 服务器端防火墙开放111、662、875、892、2049的 tcp / udp 允许，否则远端客户无法连接。</span><br><span class="line"></span><br><span class="line"># 在客户端测试nfs</span><br><span class="line">- 执行以下命令安装 nfs 客户端所需的软件包。</span><br></pre></td></tr></table></figure>
yum install -y nfs-utils #Debian系执行命令：apt install nfs-common<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 执行以下命令检查 nfs 服务器端是否有设置共享目录。（showmount用法参考最后的表格）</span><br></pre></td></tr></table></figure>
<h1 id="showmount-e-nfs服务器的IP"><a href="#showmount-e-nfs服务器的IP" class="headerlink" title="showmount -e $(nfs服务器的IP)"></a>showmount -e $(nfs服务器的IP)</h1>showmount -e 172.17.216.82<h1 id="输出结果如下所示"><a href="#输出结果如下所示" class="headerlink" title="输出结果如下所示"></a>输出结果如下所示</h1>Export list for 172.17.216.82:<br>&#x2F;root&#x2F;nfs_root *<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 执行以下命令挂载 nfs 服务器上的共享目录到本机路径 `/root/nfsmount`</span><br></pre></td></tr></table></figure>
mkdir &#x2F;root&#x2F;nfsmount<h1 id="mount-t-nfs-nfs服务器的IP-x2F-root-x2F-nfs-root-x2F-root-x2F-nfsmount"><a href="#mount-t-nfs-nfs服务器的IP-x2F-root-x2F-nfs-root-x2F-root-x2F-nfsmount" class="headerlink" title="mount -t nfs $(nfs服务器的IP):&#x2F;root&#x2F;nfs_root &#x2F;root&#x2F;nfsmount"></a>mount -t nfs $(nfs服务器的IP):&#x2F;root&#x2F;nfs_root &#x2F;root&#x2F;nfsmount</h1>mount -t nfs 172.17.216.82:&#x2F;root&#x2F;nfs_root &#x2F;root&#x2F;nfsmount<h1 id="写入一个测试文件"><a href="#写入一个测试文件" class="headerlink" title="写入一个测试文件"></a>写入一个测试文件</h1>echo “hello nfs server” &gt; &#x2F;root&#x2F;nfsmount&#x2F;test.txt<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 登录 nfs 服务器，在 nfs 服务器上执行以下命令，验证文件是否写入成功</span><br></pre></td></tr></table></figure>
cat &#x2F;root&#x2F;nfs_root&#x2F;test.txt<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 附录</span><br><span class="line"></span><br><span class="line">- NFS服务程序配置文件的参数：  </span><br><span class="line"></span><br><span class="line">  | 参数 | 作用 |</span><br><span class="line">  | - | - |</span><br><span class="line">  | ro | 只读 |</span><br><span class="line">  | rw | 读写 |</span><br><span class="line">  | root_squash（默认） | 当NFS客户端以root管理员访问时，映射为NFS服务器的匿名用户 |</span><br><span class="line">  | no_root_squash | 当NFS客户端以root管理员访问时，映射为NFS服务器的root管理员 |</span><br><span class="line">  | all_squash | 无论NFS客户端使用什么账户访问，均映射为NFS服务器的匿名用户 |</span><br><span class="line">  | no_all_squash（默认）| 访问用户先与本机用户匹配，匹配失败后再映射为匿名用户或用户组 |</span><br><span class="line">  | sync | 同时将数据写入到内存与硬盘中，保证不丢失数据 |</span><br><span class="line">  | async | 优先将数据保存到内存，然后再写入硬盘；这样效率更高，但可能会丢失数据 |</span><br><span class="line">  | insecure | 非安全模式，允许客户端使用大于1024的端口进行挂载。默认不开启。与`secure`作用相反 |</span><br><span class="line">  | secure（默认） | 安全模式，不允许客户端使用大于1024的端口进行挂载。默认开启。与`insecure`作用相反 |</span><br><span class="line">  | wdelay（默认） | 检查是否有相关的写操作，如果有则将这些写操作一起执行，这样可以提高效率 |</span><br><span class="line">  | no_wdelay | 若有写操作则立即执行，应与sync配合使用 |</span><br><span class="line">  | subtree_check  | 若输出目录是一个子目录，则nfs服务器将检查其父目录的权限 |</span><br><span class="line">  | no_subtree_check（默认）  | 即使输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率 |</span><br><span class="line"></span><br><span class="line">  更详细的介绍可参考： https://www.golinuxcloud.com/unix-linux-nfs-mount-options-example/  </span><br><span class="line"></span><br><span class="line">- showmount 命令的用法：</span><br><span class="line"></span><br><span class="line">  | 参数 | 作用 |</span><br><span class="line">  | - | - |</span><br><span class="line">  | -e | 显示NFS服务器的共享列表 |</span><br><span class="line">  | -a | 显示本机挂载的文件资源的情况NFS资源的情况 |</span><br><span class="line">  | -v | 显示版本号 |</span><br><span class="line"></span><br><span class="line">- 允许多个网段或多个IP的客户端挂载</span><br></pre></td></tr></table></figure>
<h1 id="下面的配置，表示-x2F-backup-允许172-27-34-0-x2F-24和172-27-34-0-x2F-24两个网段访问"><a href="#下面的配置，表示-x2F-backup-允许172-27-34-0-x2F-24和172-27-34-0-x2F-24两个网段访问" class="headerlink" title="下面的配置，表示 &#x2F;backup 允许172.27.34.0&#x2F;24和172.27.34.0&#x2F;24两个网段访问"></a>下面的配置，表示 &#x2F;backup 允许172.27.34.0&#x2F;24和172.27.34.0&#x2F;24两个网段访问</h1>[root@centos7 &#x2F;]# view &#x2F;etc&#x2F;exports<br>&#x2F;backup 172.27.34.0&#x2F;24(rw,sync,no_root_squash)<br>&#x2F;backup 172.27.9.0&#x2F;24(rw,sync,no_root_squash)  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"># 下面的配置，表示 /backup 允许172.27.9.17、172.27.9.227、172.27.34.37 IP地址访问</span><br><span class="line">[root@centos7 /]# view /etc/exports</span><br><span class="line">/backup  172.27.9.17(rw,sync,no_root_squash) 172.27.9.227(rw,sync,no_root_squash) 172.27.34.37(rw,sync,no_root_squash)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">nfs</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-nfs-install/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-mysql-binlog-restore" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-mysql-binlog-restore/">mysql通过binlog恢复数据</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-mysql-binlog-restore/" class="archive-article-date">
  	<time datetime="2022-10-26T08:58:39.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前提：</p>
<ol>
<li>有最近的数据库全备文件。</li>
<li>数据库开启了 binlog,且<code>binlog_row_image=FULL</code> <code>binlog_format = row</code></li>
</ol>
<h1 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"># 查看binlog的开启状态和存放路径</span><br><span class="line">show variables like &#x27;%log_bin%&#x27;;</span><br><span class="line"></span><br><span class="line"># 查看所有binlog日志文件列表</span><br><span class="line">show master logs;</span><br><span class="line"></span><br><span class="line"># 查看最后一个binlog日志的编号名称及其最后一个操作事件pos结束点的值</span><br><span class="line">show master status; </span><br><span class="line"></span><br><span class="line"># 查看某个binlog日志文件的详情（binlog.000105为对应的日志文件名）</span><br><span class="line">show binlog events in &#x27;binlog.000105&#x27;;</span><br><span class="line"></span><br><span class="line"># 查看某个binlog日志文件的详情，从pos点:8224开始查起，查询10条（binlog.000105为对应的日志文件名）</span><br><span class="line">show binlog events in &#x27;binlog.000105&#x27; from 8224 limit 10;</span><br><span class="line"></span><br><span class="line"># 刷新日志，此刻开始产生一个新编号的binlog文件(每当mysqld服务重启时，会自动执行刷新binlog日志命令，mysqldump备份数据时加-F选项也会刷新binlog日志)</span><br><span class="line">flush logs;</span><br><span class="line"></span><br><span class="line"># 删除 binlog.000058 之前的所有binlog</span><br><span class="line">purge master logs to &#x27;binlog.000058&#x27;;  </span><br><span class="line"></span><br><span class="line"># 删除指定日期之前的所有binlog</span><br><span class="line">purge master logs before &#x27;2020-02-01 03:00:00&#x27;;  </span><br><span class="line"></span><br><span class="line"># 清空所有binlog日志命令(慎用！！！)</span><br><span class="line">reset master;</span><br><span class="line"></span><br><span class="line"># 设置普通用户只读模式（super用户可读写）</span><br><span class="line">set global read_only=1;</span><br><span class="line"></span><br><span class="line"># 解除普通用户只读模式</span><br><span class="line">set global read_only=0;</span><br><span class="line"></span><br><span class="line"># 设置所有用户只读模式（慎用，加锁后只能由当前会话解锁，否则只能杀会话进程或重启服务解锁。所有用户只读。详情可参考：https://segmentfault.com/a/1190000010539455）</span><br><span class="line">set global read_only=1;</span><br><span class="line">flush tables with read lock;</span><br><span class="line"></span><br><span class="line"># 解除所有用户只读模式</span><br><span class="line">set global read_only=0;</span><br><span class="line">unlock tables;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="备份数据库"><a href="#备份数据库" class="headerlink" title="备份数据库"></a>备份数据库</h1><h2 id="实例全备（该mysql实例的所有数据库都备份到一个文件）"><a href="#实例全备（该mysql实例的所有数据库都备份到一个文件）" class="headerlink" title="实例全备（该mysql实例的所有数据库都备份到一个文件）"></a>实例全备（该mysql实例的所有数据库都备份到一个文件）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -proot -h192.168.1.66 -P31306 -A -F -R -E \</span><br><span class="line">--triggers --hex-blob --flush-privileges --single-transaction --master-data=1 &gt; test-all-bk-0416.sql</span><br></pre></td></tr></table></figure>
<p>缩写说明（逗号前后的指令含义相同）：<br>-A, –all-databases<br>-F, –flush-logs<br>-E, –events<br>-B, –databases #如果要备份指定的几个库，请将 <code>-B</code> 作为命令的最后一个参数。（<code>-B</code> 参数和重定向符 <code>&gt;</code> 之间的所有参数都会被认为是要备份的库名）<br>-x, –lock-all-tables<br>-l, –lock-tables<br>-R, –routines  </p>
<p>-h, –host&#x3D;value<br>-u, –user&#x3D;value<br>-p, –password[&#x3D;value]<br>-P, –port&#x3D;#<br>-n, –no-create-db 只导出数据，而不添加CREATE DATABASE 语句。<br>-t, –no-create-info 只导出数据，而不添加CREATE TABLE 语句。<br>-d, –no-data 不导出任何数据，只导出数据库表结构<br>–add-drop-database 每个数据库创建之前添加drop数据库语句。<br>–add-drop-table 每个数据表创建之前添加drop数据表语句。(默认为打开状态，使用–skip-add-drop-table取消选项)<br>–add-locks 在每个表导出之前增加LOCK TABLES并且之后UNLOCK TABLE。(默认为打开状态，使用–skip-add-locks取消选项)<br>–single-transaction 适合innodb事务数据库的备份。保证备份的一致性，原理是设定本次会话的隔离级别为Repeatable read，来保证本次会话（也就是dump）时，不会看到其它会话已经提交了的数据。<br>–master-data 在备份文件中写入备份时的binlog文件，在恢复进，增量数据从这个文件之后的日志开始恢复。值为1时，binlog文件名和位置没有注释，为2时，则在备份文件中将binlog的文件名和位置进行注释</p>
<h2 id="分库全备（为mysql实例的每个库备份为一个文件）"><a href="#分库全备（为mysql实例的每个库备份为一个文件）" class="headerlink" title="分库全备（为mysql实例的每个库备份为一个文件）"></a>分库全备（为mysql实例的每个库备份为一个文件）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for dbname in ` mysql -uroot -p&#x27;123456&#x27; -e &quot;show databases;&quot; | grep -Evi &quot;database|infor|perfor&quot;`</span><br><span class="line">do</span><br><span class="line">    mysqldump -uroot -proot -h192.168.1.66 -P31306 -F -R -E \</span><br><span class="line">    --triggers --hex-blob --flush-privileges --single-transaction --master-data=1 \</span><br><span class="line">    -B $&#123;dbname&#125; | gzip &gt;/opt/backup/$&#123;dbname&#125;_$(date +%F).sql.gz</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h1 id="通过备份文件和binlog恢复数据库"><a href="#通过备份文件和binlog恢复数据库" class="headerlink" title="通过备份文件和binlog恢复数据库"></a>通过备份文件和binlog恢复数据库</h1><p>如果发生了误删或误增数据、数据库。可以按照以下步骤进行恢复。</p>
<ol>
<li><p>先将数据库实例设为全局只读（防止有人继续增删改数据）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 设置所有普通用户只读模式</span><br><span class="line">set global read_only=1;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看当前最新的binlog日志文件（如果每天都有自动备份，很大概率要使用该binlog文件恢复全备之后到误删之间时间段的数据。如果没有每天备份，那么可能需要不止这一个binlog文件。具体视情况而定）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">show master status;</span><br><span class="line">mysql&gt; show master status;</span><br><span class="line">+---------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| File          | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+---------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| binlog.000099 | 20042489 |              |                  |                   |</span><br><span class="line">+---------------+----------+--------------+------------------+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>刷新binlog日志，产生一个新的binlog日志文件（防止还原数据操作污染当前的binlog日志，如不刷新，也可将binlog备份一下也行）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush logs;</span><br></pre></td></tr></table></figure>
</li>
<li><p>先通过全备文件恢复数据库到备份的时间点（全备只能全恢复，如果要恢复单个库，可以使用单备单恢复方式，或者将指定数据库的备份语句从全备文件中提取出来，具体可参考本文后面章节）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 通过全备文件还原该mysql实例的所有数据库</span><br><span class="line">mysql -uroot -p123456 &lt; /mnt/all-db_bak.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看备份文件备份时对应的binlog位置。（还原时将以该位置作为<code>--start-position</code>）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@db-tmp-mysql57:/# cat /all-db.bksql | grep -i &#x27;CHANGE MASTER TO MASTER_LOG_FILE&#x27; | head -n1</span><br><span class="line">CHANGE MASTER TO MASTER_LOG_FILE=&#x27;1.000004&#x27;, MASTER_LOG_POS=154;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询误删数据前对应的binlog位置。（如：此处使用<code>grep</code>以<code>DELETE</code>作为关键字检索，具体视情况而定）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@db-tmp-mysql57:/# mysql -uroot -proot -e &quot;show binlog events in &#x27;1.000004&#x27;&quot; | grep -i &#x27;DELETE&#x27;</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">1.000004        1973    Rows_query      1       2082    # /* ApplicationName=DataGrip 2020.3.1 */ DELETE FROM `test-db3`.table_3 WHERE id = 333</span><br><span class="line">1.000004        2139    Delete_rows     1       2193    table_id: 257 flags: STMT_END_F</span><br><span class="line">1.000004        2193    Rows_query      1       2301    # /* ApplicationName=DataGrip 2020.3.1 */ DELETE FROM `test-db3`.table_3 WHERE id = 33</span><br><span class="line">1.000004        2358    Delete_rows     1       2402    table_id: 257 flags: STMT_END_F</span><br><span class="line">1.000004        2402    Rows_query      1       2509    # /* ApplicationName=DataGrip 2020.3.1 */ DELETE FROM `test-db3`.table_3 WHERE id = 3</span><br><span class="line">1.000004        2566    Delete_rows     1       2609    table_id: 257 flags: STMT_END_F</span><br><span class="line">1.000004        2609    Rows_query      1       2718    # /* ApplicationName=DataGrip 2020.3.1 */ DELETE FROM `test-db3`.table_3 WHERE id = 334</span><br><span class="line">1.000004        2775    Delete_rows     1       2830    table_id: 257 flags: STMT_END_F</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据以上操作能够确定我们的全备文件内容对应binlog文件<code>1.000004</code>的<code>154</code>位置，而我们误删数据是在<code>1.000004</code>的<code>1973</code>位置。所以在我们通过全备文件还原数据库后，即代表我们的数据库状态已经恢复到了binlog文件<code>1.000004</code>的<code>154</code>位置。此时我们将<code>154</code>至<code>1973</code>之间的数据通过binlog还原，即可让数据库恢复到，误删数据前的状态。命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@db-tmp-mysql57:/# mysqlbinlog  --start-position=1003 --stop-position=1973 1.000004 | mysql -uroot -proot</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure. # 如果在命令中指定密码，会收该条警告。</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过mysqlbinlog恢复数据，可以只恢复指定的数据库，通过 -d 参数指定即可。如只恢复 test-db3 数据库，则命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@db-tmp-mysql57:/# mysqlbinlog  -d test-db3 --start-position=1003 --stop-position=1973 1.000004 | mysql -uroot -proot</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure. # 如果在命令中指定密码，会收该条警告。</span><br></pre></td></tr></table></figure>
</li>
<li><p>因为通过binlog恢复数据，本质上是通过回放binlog文件中记录的SQL语句来进行的恢复。所以，可以通过，如：<code>--stop-position=1 --stop-position=100</code>或<code>--start-datetime=&quot;2016-09-25 21:57:19&quot; --stop-datetime=&quot;2016-09-25 21:58:41</code>参数来回放任意区间的SQL，实现对指定操作位置区间、指定时间段的数据恢复，可根据情况灵活使用。比如上面的例子中，如果在误删数据后，又插入了新的数据，那么想要跳过误删操作，将误删之后添加的数据也进行还原。则可以找出误删数据的截止点，如<code>2775</code>,然后将<code>2775</code>之后操作也通过binlog进行回放，则可将误删前和误删后的数据都还原。如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 将误删操作之后新增的数据也还原到 test-db3 数据库</span><br><span class="line">root@db-tmp-mysql57:/# mysqlbinlog  -d test-db3 --start-position=2775 1.000004 | mysql -uroot -proot</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure. # 如果在命令中指定密码，会收该条警告。</span><br></pre></td></tr></table></figure>
</li>
<li><p>以上过程都是基于单个 binlog 文件进行的数据恢复。如果我们要恢复的操作涉及到多个binlog文件，则将多个binlog文件用空格隔开即可。如：备份文件是很长时间之前的，在这段时间binlog日志已经滚存了好几个文件了。这个时候在通过备份文件还原后，就要重放好几个binlog文件才能使数据库恢复到最新的状态。如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqlbinlog  --start-position=27284 binlog.001002 binlog.001003 binlog.001004 | mysql --host=host_name -u root -p</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据还原成功后，可将数据库做一次全新的全备，然后通过下方的SQL命令，清空老旧的binlog日志释放磁盘空间（推荐）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 刷新binlog日志，产生一个新的binlog日志文件</span><br><span class="line">flush logs;</span><br><span class="line"># 查看当前正在使用的binlog日志</span><br><span class="line">show master status;</span><br><span class="line"># 删除 binlog.000058 之前的所有binlog</span><br><span class="line">purge master logs to &#x27;binlog.000058&#x27;;  </span><br></pre></td></tr></table></figure></li>
<li><p>如果通过远程binlog还原远程数据库，则在命令中添加相关的远程地址、端口和<code> --read-from-remote-server</code>（或<code>-R</code>）选项即可，如果binlog已经拷贝到本地，则不需加该选项。如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqlbinlog -uroot -pserver,test@pass -h192.168.1.66 -P31306 --read-from-remote-server -d test-db3 --start-position=1003 --stop-position=1973 1.000004 | mysql -uroot -pserver,test@pass -h192.168.1.66 -P31306</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果想要审阅将binlog文件中的日志（如：查找一些关键操作），可将其解析易于阅读的格式，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 将本地/data/mysql_data/bin.000008文件中针对EpointFrame数据库09-25 21:57:19之后的操作，解析成易读格式并输出到本地 /opt/sql.log 文件</span><br><span class="line">mysqlbinlog /data/mysql_data/bin.000008 --database EpointFrame --base64-output=decode-rows -vv  --start-datetime=&quot;2016-09-25 21:57:19&quot;   |grep -C 1 -i “delete from Audit_Orga_Specialtype” &gt; /opt/sql.log</span><br><span class="line"># 将远程mysql的 binlog.000099 文件中针对zuihou_base_0000数据库4月14号之后的操作，解析成易读格式输出到本地根目录下的 wwp2.binlog 文件</span><br><span class="line">mysqlbinlog -uroot -pserver,test@pass -h192.168.1.66 -P31306 --read-from-remote-server binlog.000099 --base64-output=decode-rows -vv  --start-datetime=&quot;2021-04-14 00:00:00&quot; -d zuihou_base_0000 &gt; /wwp2.binlog</span><br></pre></td></tr></table></figure></li>
</ol>
<p>参数解释：</p>
<p><strong>-v 参数：</strong> 显示sql语句<br><strong>-vv 参数：</strong> 显示sql语句和字段类型<br><strong>–base64-output参数：</strong> 用来控制binlog部分是否显示出来的，指定为decode-rows表示不显示binglog部分<br><strong>grep -C 1</strong> 显示符合查询条件的当前行，及该行前后各一行的数据<br><strong>grep -i</strong>  查询时忽略大小写</p>
<h2 id="mysqlbinlog-–no-defaults-–skip-gtids-x3D-true"><a href="#mysqlbinlog-–no-defaults-–skip-gtids-x3D-true" class="headerlink" title="mysqlbinlog –no-defaults –skip-gtids&#x3D;true"></a>mysqlbinlog –no-defaults –skip-gtids&#x3D;true</h2><p>是否使用–skip-gtids&#x3D;true 参数，要根据情况来定；<br>第一种情况：<br>如果我们是要恢复数据到源数据库或者和源数据库有相同 GTID 信息的实例，那么就要使用该参数。如果不带该参数的话，是无法恢复成功的。因为包含的 GTID 已经在源数据库执行过了，根据 GTID 特性，一个 GTID 信息在一个数据库只能执行一次，所以不会恢复成功。</p>
<p>第二种情况：<br>如果是恢复到其他实例的数据库并且不包含源实例的 GTID 信息，那么可以不使用该参数，使用或者不使用都可以恢复成功。 </p>
<p>一般如果我们基于全备文件和干净的binlog日志（未被还原操作污染过的binlog）进行数据还原时，都不需要加 –skip-gtids&#x3D;true 参数。</p>
<p>是否使用–no-defaults参数：<br>如果命令报错 mysqlbinlog: [ERROR] unknown variable ‘default-character-set&#x3D;utf8mb4’ 则可以使用 –no-defaults 跳过该错误。</p>
<h2 id="从全备文件中提取单备文件"><a href="#从全备文件中提取单备文件" class="headerlink" title="从全备文件中提取单备文件"></a>从全备文件中提取单备文件</h2><p>从全备文件中提取单备文件（从所有数据库备份文件中提取出其中一个数据库的备份文件）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 从全备文件中提取某一个数据库的备份文件（下面示例语句从全备文件中提取test-db3数据库的备份内容到一个新的单备文件）</span><br><span class="line">sed -n &#x27;/^-- Current Database: `test-db3`/,/^-- Current Database: `/p&#x27; 0420-temp-all.bksql &gt; 0420-temp-test-db3.bksql</span><br><span class="line"></span><br><span class="line"># 通过单备文件还原test-db3数据库</span><br><span class="line">mysql -uroot -p123456 &lt; /0420-temp-test-db3.bksql</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong> 如果单备文件是手动从全备提取的，为保证顺利还原，请将全备文件头部和底部的注释，复制到提取出的单备文件中。可避免timestamp类型字段还原后，时间错误问题。如果不是手动提取的，则不用关心。<br>注释内容大致如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 将以下内容从全备文件的头部复制到手动提取的单备文件头部</span><br><span class="line">/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;</span><br><span class="line">/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;</span><br><span class="line">/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;</span><br><span class="line"> SET NAMES utf8mb4 ;</span><br><span class="line">/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;</span><br><span class="line">/*!40103 SET TIME_ZONE=&#x27;+00:00&#x27; */;</span><br><span class="line">/*!50606 SET @OLD_INNODB_STATS_AUTO_RECALC=@@INNODB_STATS_AUTO_RECALC */;</span><br><span class="line">/*!50606 SET GLOBAL INNODB_STATS_AUTO_RECALC=OFF */;</span><br><span class="line">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;</span><br><span class="line">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;</span><br><span class="line">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#x27;NO_AUTO_VALUE_ON_ZERO&#x27; */;</span><br><span class="line">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;</span><br><span class="line"></span><br><span class="line"># 将以下内容从全备文件的尾部复制到手动提取的单备文件尾部</span><br><span class="line">/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;</span><br><span class="line">/*!50606 SET GLOBAL INNODB_STATS_AUTO_RECALC=@OLD_INNODB_STATS_AUTO_RECALC */;</span><br><span class="line"></span><br><span class="line">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;</span><br><span class="line">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;</span><br><span class="line">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;</span><br><span class="line">/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;</span><br><span class="line">/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;</span><br><span class="line">/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;</span><br><span class="line">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;</span><br><span class="line"></span><br><span class="line">-- Dump completed on 2021-04-20 11:53:40</span><br></pre></td></tr></table></figure>
<h2 id="从全备或单备文件中提取单表的备份数据"><a href="#从全备或单备文件中提取单表的备份数据" class="headerlink" title="从全备或单备文件中提取单表的备份数据"></a>从全备或单备文件中提取单表的备份数据</h2><ol>
<li>从全备份中提取出该表的建表语句<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -e&#x27;/./&#123;H;$!d;&#125;&#x27; -e &#x27;x;/CREATE TABLE `user_online`/!d;q&#x27; all_database_bak_471_2017-12-04_15_36_38.sql &gt; user_online.sql &amp;</span><br></pre></td></tr></table></figure></li>
<li>提取该表的insert into语句<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -i &#x27;INSERT INTO `user_online`&#x27;  all_database_bak_471_2017-12-04_15_36_38.sql &gt;&gt; user_online.sql &amp; </span><br></pre></td></tr></table></figure></li>
<li>将全备文件头部和底部的注释，复制到提取出的单表备份文件中<br>注释内容大致如下：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 将以下内容从全备文件的头部复制到手动提取的单表备份文件头部</span><br><span class="line">/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;</span><br><span class="line">/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;</span><br><span class="line">/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;</span><br><span class="line"> SET NAMES utf8mb4 ;</span><br><span class="line">/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;</span><br><span class="line">/*!40103 SET TIME_ZONE=&#x27;+00:00&#x27; */;</span><br><span class="line">/*!50606 SET @OLD_INNODB_STATS_AUTO_RECALC=@@INNODB_STATS_AUTO_RECALC */;</span><br><span class="line">/*!50606 SET GLOBAL INNODB_STATS_AUTO_RECALC=OFF */;</span><br><span class="line">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;</span><br><span class="line">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;</span><br><span class="line">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#x27;NO_AUTO_VALUE_ON_ZERO&#x27; */;</span><br><span class="line">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;</span><br><span class="line"></span><br><span class="line"># 将以下内容从全备文件的尾部复制到手动提取的单表备份文件尾部</span><br><span class="line">/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;</span><br><span class="line">/*!50606 SET GLOBAL INNODB_STATS_AUTO_RECALC=@OLD_INNODB_STATS_AUTO_RECALC */;</span><br><span class="line"></span><br><span class="line">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;</span><br><span class="line">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;</span><br><span class="line">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;</span><br><span class="line">/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;</span><br><span class="line">/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;</span><br><span class="line">/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;</span><br><span class="line">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;</span><br><span class="line"></span><br><span class="line">-- Dump completed on 2021-04-20 11:53:40</span><br></pre></td></tr></table></figure></li>
<li>导入到对应的库中<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p &lt; user_online.sql</span><br></pre></td></tr></table></figure></li>
<li>查看数据，检查导入效果<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(*) from user_online;</span><br><span class="line">+----------+</span><br><span class="line">| count(*) |</span><br><span class="line">+----------+</span><br><span class="line">|        9 |</span><br><span class="line">+----------+</span><br><span class="line">1 row in set (0.01 sec)</span><br><span class="line"></span><br><span class="line"># 已经恢复完毕</span><br></pre></td></tr></table></figure></li>
</ol>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">mysql</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-mysql-binlog-restore/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-mysql-bk-shell" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-mysql-bk-shell/">mysql定期备份脚本</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-mysql-bk-shell/" class="archive-article-date">
  	<time datetime="2022-10-26T08:55:24.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="mysql定期全量加增量备份脚本"><a href="#mysql定期全量加增量备份脚本" class="headerlink" title="mysql定期全量加增量备份脚本"></a>mysql定期全量加增量备份脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">##########################################################</span></span><br><span class="line"><span class="comment">#        数据库自动备份脚本（仅支持数据库服务在本机）            #</span></span><br><span class="line"><span class="comment">##########################################################</span></span><br><span class="line"><span class="comment"># 备份策略：                          #</span></span><br><span class="line"><span class="comment"># 7天1全备，1天1增备，每次增备时都会     #</span></span><br><span class="line"><span class="comment"># 清空14天之前的binlog(可按需调整)      #</span></span><br><span class="line"><span class="comment">#####################################</span></span><br><span class="line"><span class="comment"># 可以将下面这段被注释的语句保存为一个测试脚本进行测试。</span></span><br><span class="line"><span class="comment"># 该测试逻辑，是通过循环修改系统时间，模拟一个月的备份过程。</span></span><br><span class="line"><span class="comment">########测试脚本-START##########</span></span><br><span class="line"><span class="comment"># #!/bin/bash</span></span><br><span class="line"><span class="comment"># for day in &#123;1..30&#125;</span></span><br><span class="line"><span class="comment"># do</span></span><br><span class="line"><span class="comment">#    date -s &quot;2021-04-$day 12:00:00&quot;</span></span><br><span class="line"><span class="comment">#    /bin/bash 当前备份脚本.sh</span></span><br><span class="line"><span class="comment"># done</span></span><br><span class="line"><span class="comment">########测试脚本-END############</span></span><br><span class="line"><span class="comment"># 可以通过下面这段命令，使用crontab将备份脚本加入定时任务</span></span><br><span class="line"><span class="comment">########使用crontab将脚本加入定时任务-START#######</span></span><br><span class="line"><span class="comment"># crontab -e</span></span><br><span class="line"><span class="comment"># 0 3 * * *  /bin/bash 当前备份脚本.sh &gt; /dev/null 2&gt;&amp;1 空格</span></span><br><span class="line"><span class="comment"># 编辑定时任务的语句最后加个空格，不然有些机器不能执行脚本</span></span><br><span class="line"><span class="comment">########使用crontab将脚本加入定时任务-END#########</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启 alias</span></span><br><span class="line"><span class="built_in">shopt</span> -s expand_aliases</span><br><span class="line"><span class="comment"># 将“检查命令执行结果的逻辑”封装为一个别名（该别名包含return语句，仅能在function中使用）</span></span><br><span class="line"><span class="built_in">alias</span> CHECK_RETURN=<span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">  result=$?</span></span><br><span class="line"><span class="string">  if [ $result -ne 0 ];then</span></span><br><span class="line"><span class="string">    read errMsg</span></span><br><span class="line"><span class="string">    echo `date +%Y-%m-%d_%H:%M:%S` ERROR：$errMsg</span></span><br><span class="line"><span class="string">    return $result</span></span><br><span class="line"><span class="string">  fi</span></span><br><span class="line"><span class="string">&#125;&lt;&lt;&lt;&#x27;</span></span><br><span class="line"><span class="comment"># 将自定义echo格式封装为别名</span></span><br><span class="line"><span class="built_in">alias</span> ECHO=<span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">  read msg</span></span><br><span class="line"><span class="string">  echo `date +%Y-%m-%d_%H:%M:%S` MESSAGE：$msg</span></span><br><span class="line"><span class="string">&#125;&lt;&lt;&lt;&#x27;</span></span><br><span class="line"><span class="comment"># 变量定义区域</span></span><br><span class="line">DB_USER=<span class="string">&#x27;root&#x27;</span></span><br><span class="line">DB_PASSWORD=<span class="string">&#x27;test9D_Pass&#x27;</span></span><br><span class="line">DB_PORT=<span class="string">&#x27;4400&#x27;</span></span><br><span class="line">DB_HOST=<span class="string">&#x27;192.168.1.66&#x27;</span></span><br><span class="line">DB_BIN=<span class="string">&#x27;/usr/bin&#x27;</span></span><br><span class="line">BACKUP_DIR_BASE=<span class="string">&quot;/data/mysql-backup/local_temp&quot;</span></span><br><span class="line">BACKUP_LOG=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR_BASE&#125;</span>/backup.log&quot;</span></span><br><span class="line">BACKUP_DIR_LATEST=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR_BASE&#125;</span>/backup_latest&quot;</span></span><br><span class="line">BACKUP_DIR_OLDER=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR_BASE&#125;</span>/backup_older&quot;</span></span><br><span class="line">BACKUP_CONFIG_FILE=<span class="variable">$BACKUP_DIR_LATEST</span><span class="string">&quot;/db-backup.conf&quot;</span></span><br><span class="line"><span class="comment">#全备时间 0代表周日</span></span><br><span class="line">FULL_BACKUP_DAY=<span class="string">&#x27;0&#x27;</span></span><br><span class="line">TODAY=`<span class="built_in">date</span> +%w`</span><br><span class="line">DATE=`<span class="built_in">date</span> +%Y%m%d`</span><br><span class="line">CURRENT_TIME=<span class="string">&quot;date +%Y-%m-%d_%H:%M:%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 增量备份</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">INCREASE_BACKUP</span></span>()&#123;</span><br><span class="line">  ECHO <span class="string">&quot;开始数据库增量备份&quot;</span></span><br><span class="line">  <span class="built_in">local</span> BINLOG_BASENAME=`<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show variables like &#x27;log_bin_basename&#x27;&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> |<span class="built_in">tail</span> -n1`</span><br><span class="line">  CHECK_RETURN <span class="string">&quot;查询binlog目录失败！&quot;</span></span><br><span class="line">  <span class="built_in">local</span> BINLOG_PATH=<span class="variable">$&#123;BINLOG_BASENAME%/*&#125;</span></span><br><span class="line">  <span class="keyword">if</span> [ ! -d <span class="string">&quot;<span class="variable">$BINLOG_PATH</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      ECHO <span class="string">&quot;未找到有效的binlog目录：<span class="variable">$BINLOG_PATH</span>&quot;</span></span><br><span class="line">      <span class="built_in">return</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">if</span> [[ ! -r <span class="variable">$BACKUP_CONFIG_FILE</span> ]];<span class="keyword">then</span></span><br><span class="line">    ECHO <span class="string">&quot;错误- <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件不存在或不可读。&quot;</span></span><br><span class="line">    <span class="built_in">return</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="comment"># 读取配置文件，获取开始备份的起始文件名</span></span><br><span class="line">  BINLOG_FILE_BEGIN=$(<span class="built_in">tail</span> -n1 <span class="variable">$BACKUP_CONFIG_FILE</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">  ECHO <span class="string">&quot;读取配置文件，获取开始备份的起始文件名为：<span class="variable">$BINLOG_FILE_BEGIN</span>&quot;</span></span><br><span class="line">  <span class="comment"># 刷新日志，生成新的 binlog</span></span><br><span class="line">  <span class="variable">$DB_BIN</span>/mysqladmin -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> flush-logs</span><br><span class="line">  CHECK_RETURN <span class="string">&quot;刷新binlog日志错误！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;刷新日志，生成新的 binlog 成功。&quot;</span></span><br><span class="line">  <span class="comment"># 取最新的 binlog 文件名，作为备份截止文件</span></span><br><span class="line">  <span class="built_in">local</span> BINLOG_FILE_BEFORE_END=`<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show master status&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">tail</span> -n1`</span><br><span class="line">  CHECK_RETURN <span class="string">&quot;查询最新的binlog文件名失败！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;获取最新的 binlog 文件名为：<span class="variable">$BINLOG_FILE_BEFORE_END</span>&quot;</span></span><br><span class="line">  <span class="comment"># 增量备份 binlog</span></span><br><span class="line">  <span class="built_in">local</span> IS_BEGIN_BACKUP=0</span><br><span class="line">  <span class="built_in">local</span> BACKUP_FILES=<span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> `<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show master logs&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">tail</span> -n +2`</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$BINLOG_FILE_BEGIN</span> == <span class="variable">$i</span> ]];<span class="keyword">then</span></span><br><span class="line">      IS_BEGIN_BACKUP=1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$IS_BEGIN_BACKUP</span> == 1 &amp;&amp; <span class="variable">$i</span> != <span class="variable">$BINLOG_FILE_BEFORE_END</span> ]]; <span class="keyword">then</span></span><br><span class="line">        BACKUP_FILES+=<span class="string">&quot; <span class="variable">$i</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  <span class="comment"># 打包压缩 binlog</span></span><br><span class="line">  <span class="keyword">if</span> [[ <span class="variable">$&#123;BACKUP_FILES// /&#125;</span> == <span class="string">&quot;&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">      ECHO <span class="string">&quot;错误-没有有效的binlog,迭代binlog错误。&quot;</span></span><br><span class="line">      <span class="built_in">return</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="comment"># 适用于mysql服务在本机的binlog打包</span></span><br><span class="line">  tar -zcf <span class="variable">$BACKUP_DIR_LATEST</span>/binlog_daily_<span class="variable">$DATE</span>.tar.gz  -C <span class="variable">$BINLOG_PATH</span> <span class="variable">$BACKUP_FILES</span></span><br><span class="line">  CHECK_RETURN <span class="string">&quot;增备打包 binlog 时发生错误！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;数据库增量备份执行完成。成功打包文件：<span class="variable">$BACKUP_DIR_LATEST</span>/binlog_daily_<span class="variable">$DATE</span>.tar.gz，包含 binlog ：<span class="variable">$BACKUP_FILES</span>&quot;</span></span><br><span class="line">  <span class="comment"># 将最新的 binlog 文件名写入 config 配置文件</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;`<span class="variable">$CURRENT_TIME</span>`        <span class="variable">$BINLOG_FILE_BEFORE_END</span>         INCREASE&quot;</span> &gt;&gt; <span class="variable">$BACKUP_CONFIG_FILE</span></span><br><span class="line">  CHECK_RETURN <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件失败！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件成功。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># TODO 全量备份</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">FULL_BACKUP</span></span>() &#123;</span><br><span class="line">    ECHO <span class="string">&quot;开始数据库全量备份&quot;</span></span><br><span class="line">    <span class="variable">$DB_BIN</span>/mysqldump -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -A -F -R -E --triggers --hex-blob --flush-privileges --single-transaction --master-data=2 | gzip &gt; <span class="variable">$BACKUP_DIR_LATEST</span>/db_fullbak_<span class="variable">$DATE</span>.sql.gz</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;数据库全量备份命令执行失败！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;数据库全量备份执行完成。成功打包 SQL 文件：<span class="variable">$BACKUP_DIR_LATEST</span>/db_fullbak_<span class="variable">$DATE</span>.sql.gz&quot;</span></span><br><span class="line">    <span class="comment"># 取最新的 binlog 文件名，作为备份截止文件</span></span><br><span class="line">    <span class="built_in">local</span> BINLOG_FILE_BEFORE_END=`<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show master status&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">tail</span> -n1`</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;查询最新的binlog文件名失败！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;获取最新的 binlog 文件名为：<span class="variable">$BINLOG_FILE_BEFORE_END</span>&quot;</span></span><br><span class="line">    <span class="comment"># 将最新的 binlog 文件名写入 config 配置文件</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;    BACKUP_TIME           BINLOG_END_BEFORE        BACKUP_MODEL&quot;</span> &gt;&gt; <span class="variable">$BACKUP_CONFIG_FILE</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;`<span class="variable">$CURRENT_TIME</span>`        <span class="variable">$BINLOG_FILE_BEFORE_END</span>         FULL&quot;</span> &gt;&gt; <span class="variable">$BACKUP_CONFIG_FILE</span></span><br><span class="line">    CHECK_RETURN <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件失败！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件成功。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 检测数据库服务的状态</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">DB_SERVER_CHECK</span></span>()&#123;</span><br><span class="line">    <span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;&quot;</span></span><br><span class="line">    CHECK_RETURN <span class="string">&quot;数据库服务不能正常连接！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;数据库服务正常可连接。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 检测并创建备份目录</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BACKUP_DIR_CREATE</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">test</span> -d <span class="variable">$BACKUP_DIR_LATEST</span>;<span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 检测到目录已存在，即将执行后续逻辑。&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 目录不存在，即将创建。&quot;</span></span><br><span class="line">        <span class="built_in">mkdir</span> -pv <span class="variable">$BACKUP_DIR_LATEST</span></span><br><span class="line">        CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 目录创建失败！&quot;</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 目录创建成功。&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">test</span> -d <span class="variable">$BACKUP_DIR_OLDER</span>;<span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 检测到目录已存在，即将执行后续逻辑。&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录不存在，即将创建。&quot;</span></span><br><span class="line">        <span class="built_in">mkdir</span> -pv <span class="variable">$BACKUP_DIR_OLDER</span></span><br><span class="line">        CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录创建失败！&quot;</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录创建成功。&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 检测 binlog 是否开启</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BINLOG_EXIST</span></span>()&#123;</span><br><span class="line">    <span class="built_in">local</span> BINLOG_OPEN=`mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show variables like &#x27;log_bin&#x27;&quot;</span> | <span class="built_in">tail</span> -n +2 | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;查询 binlog 日志状态出错！&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$BINLOG_OPEN</span> == <span class="string">&quot;ON&quot;</span> ]];<span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;检测到 BINLOG 日志为打开状态。&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 0</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    ECHO <span class="string">&quot;检测到 BINLOG 日志为关闭状态。&quot;</span></span><br><span class="line">    <span class="built_in">return</span> 1</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 归档7天以前的备份，清空14天以前的备份</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BACKUP_CLEANER</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;`ls -A <span class="variable">$BACKUP_DIR_LATEST</span>`&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 备份目录为空，没有要归档的文件&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      tar -zcf <span class="variable">$BACKUP_DIR_OLDER</span>/db_archive_<span class="variable">$DATE</span>.tar.gz  -C <span class="variable">$BACKUP_DIR_LATEST</span> .</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 归档失败！&quot;</span></span><br><span class="line">      ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 归档完成&quot;</span></span><br><span class="line">      <span class="built_in">rm</span> -rf <span class="variable">$BACKUP_DIR_LATEST</span>/*</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 清空失败！&quot;</span></span><br><span class="line">      ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 清空完成&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">local</span> CLEAN_FILES=`find <span class="variable">$BACKUP_DIR_OLDER</span> -mtime +14 -<span class="built_in">exec</span> <span class="built_in">ls</span> -A &#123;&#125; \;`</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$CLEAN_FILES</span>&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录中，没有要清空的14天以前的旧备份文件&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      find <span class="variable">$BACKUP_DIR_OLDER</span> -mtime +14 -<span class="built_in">exec</span> <span class="built_in">rm</span> -fr &#123;&#125; \;</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 清空14天以前的备份失败！&quot;</span></span><br><span class="line">      ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 清空14天以前的备份成功。&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 备份方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BACK_UP</span></span>() &#123;</span><br><span class="line">    <span class="comment"># 备份前的各种必要检测</span></span><br><span class="line">    DB_SERVER_CHECK</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    BINLOG_EXIST</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    <span class="comment"># 如果今天是全备日或者备份目录为空，则执行全备，否则执行增备</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$TODAY</span> == <span class="variable">$FULL_BACKUP_DAY</span> || <span class="string">&quot;`ls -A <span class="variable">$BACKUP_DIR_LATEST</span>`&quot;</span> == <span class="string">&quot;&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        BACKUP_CLEANER</span><br><span class="line">        CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">        FULL_BACKUP</span><br><span class="line">        CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      INCREASE_BACKUP</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    ECHO <span class="string">&quot;备份脚本顺利执行完成。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 主函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">MAIN</span></span>() &#123;</span><br><span class="line"><span class="comment"># 首先检测创建备份目录，否则无法写日志，也无法创建备份文件</span></span><br><span class="line">BACKUP_DIR_CREATE</span><br><span class="line"><span class="comment"># 执行备份逻辑</span></span><br><span class="line">BACK_UP &gt;&gt; <span class="variable">$BACKUP_LOG</span> <span class="comment"># 输出到日志文件</span></span><br><span class="line"><span class="comment">#BACK_UP # 输出到标准输出</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用主函数</span></span><br><span class="line">MAIN</span><br></pre></td></tr></table></figure>

<h3 id="mysql定期全量加增量备份脚本-增强版"><a href="#mysql定期全量加增量备份脚本-增强版" class="headerlink" title="mysql定期全量加增量备份脚本-增强版"></a>mysql定期全量加增量备份脚本-增强版</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#######################################################################</span></span><br><span class="line"><span class="comment">#        数据库自动备份脚本-增强版（支持备份本地数据库和远程数据库）  #</span></span><br><span class="line"><span class="comment">#######################################################################</span></span><br><span class="line"><span class="comment"># 备份策略：                          #</span></span><br><span class="line"><span class="comment"># 7天1全备，1天1增备，每次增备时都会     #</span></span><br><span class="line"><span class="comment"># 清空14天之前的binlog(可按需调整)      #</span></span><br><span class="line"><span class="comment">#####################################</span></span><br><span class="line"><span class="comment"># 可以将下面这段被注释的语句保存为一个测试脚本进行测试。</span></span><br><span class="line"><span class="comment"># 该测试逻辑，是通过循环修改系统时间，模拟一个月的备份过程。</span></span><br><span class="line"><span class="comment">########测试脚本-START##########</span></span><br><span class="line"><span class="comment"># #!/bin/bash</span></span><br><span class="line"><span class="comment"># for day in &#123;1..30&#125;</span></span><br><span class="line"><span class="comment"># do</span></span><br><span class="line"><span class="comment">#    date -s &quot;2021-04-$day 12:00:00&quot;</span></span><br><span class="line"><span class="comment">#    /bin/bash 当前备份脚本.sh</span></span><br><span class="line"><span class="comment"># done</span></span><br><span class="line"><span class="comment">########测试脚本-END############</span></span><br><span class="line"><span class="comment"># 可以通过下面这段命令，使用crontab将备份脚本加入定时任务</span></span><br><span class="line"><span class="comment">########使用crontab将脚本加入定时任务-START#######</span></span><br><span class="line"><span class="comment"># crontab -e</span></span><br><span class="line"><span class="comment"># 0 3 * * *  /bin/bash 当前备份脚本.sh &gt; /dev/null 2&gt;&amp;1 空格</span></span><br><span class="line"><span class="comment"># 编辑定时任务的语句最后加个空格，不然有些机器不能执行脚本</span></span><br><span class="line"><span class="comment">########使用crontab将脚本加入定时任务-END#########</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启 alias</span></span><br><span class="line"><span class="built_in">shopt</span> -s expand_aliases</span><br><span class="line"><span class="comment"># 将“检查命令执行结果的逻辑”封装为一个别名（该别名包含return语句，仅能在function中使用）</span></span><br><span class="line"><span class="built_in">alias</span> CHECK_RETURN=<span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">  result=$?</span></span><br><span class="line"><span class="string">  if [ $result -ne 0 ];then</span></span><br><span class="line"><span class="string">    read errMsg</span></span><br><span class="line"><span class="string">    echo `date +%Y-%m-%d_%H:%M:%S` ERROR：$errMsg</span></span><br><span class="line"><span class="string">    return $result</span></span><br><span class="line"><span class="string">  fi</span></span><br><span class="line"><span class="string">&#125;&lt;&lt;&lt;&#x27;</span></span><br><span class="line"><span class="comment"># 将自定义echo格式封装为别名</span></span><br><span class="line"><span class="built_in">alias</span> ECHO=<span class="string">&#x27;&#123;</span></span><br><span class="line"><span class="string">  read msg</span></span><br><span class="line"><span class="string">  echo `date +%Y-%m-%d_%H:%M:%S` MESSAGE：$msg</span></span><br><span class="line"><span class="string">&#125;&lt;&lt;&lt;&#x27;</span></span><br><span class="line"><span class="comment"># 变量定义区域</span></span><br><span class="line">DB_USER=<span class="string">&#x27;root&#x27;</span></span><br><span class="line">DB_PASSWORD=<span class="string">&#x27;test9D_Pass&#x27;</span></span><br><span class="line">DB_PORT=<span class="string">&#x27;4400&#x27;</span></span><br><span class="line">DB_HOST=<span class="string">&#x27;192.168.1.66&#x27;</span></span><br><span class="line">DB_BIN=<span class="string">&#x27;/usr/bin&#x27;</span></span><br><span class="line">BACKUP_DIR_BASE=<span class="string">&quot;/data/mysql-backup/local_temp&quot;</span></span><br><span class="line">BACKUP_LOG=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR_BASE&#125;</span>/backup.log&quot;</span></span><br><span class="line">BACKUP_DIR_LATEST=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR_BASE&#125;</span>/backup_latest&quot;</span></span><br><span class="line">BACKUP_DIR_OLDER=<span class="string">&quot;<span class="variable">$&#123;BACKUP_DIR_BASE&#125;</span>/backup_older&quot;</span></span><br><span class="line">BACKUP_CONFIG_FILE=<span class="variable">$BACKUP_DIR_LATEST</span><span class="string">&quot;/db-backup.conf&quot;</span></span><br><span class="line"><span class="comment">#全备时间 0代表周日</span></span><br><span class="line">FULL_BACKUP_DAY=<span class="string">&#x27;0&#x27;</span></span><br><span class="line">TODAY=`<span class="built_in">date</span> +%w`</span><br><span class="line">DATE=`<span class="built_in">date</span> +%Y%m%d`</span><br><span class="line">CURRENT_TIME=<span class="string">&quot;date +%Y-%m-%d_%H:%M:%S&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 增量备份</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">INCREASE_BACKUP</span></span>()&#123;</span><br><span class="line">  ECHO <span class="string">&quot;开始数据库增量备份&quot;</span></span><br><span class="line">  <span class="keyword">if</span> [[ ! -r <span class="variable">$BACKUP_CONFIG_FILE</span> ]];<span class="keyword">then</span></span><br><span class="line">    ECHO <span class="string">&quot;错误- <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件不存在或不可读。&quot;</span></span><br><span class="line">    <span class="built_in">return</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="comment"># 读取配置文件，获取开始备份的起始文件名</span></span><br><span class="line">  BINLOG_FILE_BEGIN=$(<span class="built_in">tail</span> -n1 <span class="variable">$BACKUP_CONFIG_FILE</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">  ECHO <span class="string">&quot;读取配置文件，获取开始备份的起始文件名为：<span class="variable">$BINLOG_FILE_BEGIN</span>&quot;</span></span><br><span class="line">  <span class="comment"># 刷新日志，生成新的 binlog</span></span><br><span class="line">  <span class="variable">$DB_BIN</span>/mysqladmin -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> flush-logs</span><br><span class="line">  CHECK_RETURN <span class="string">&quot;刷新binlog日志错误！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;刷新日志，生成新的 binlog 成功。&quot;</span></span><br><span class="line">  <span class="comment"># 取最新的 binlog 文件名，作为备份截止文件</span></span><br><span class="line">  <span class="built_in">local</span> BINLOG_FILE_BEFORE_END=`<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show master status&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">tail</span> -n1`</span><br><span class="line">  CHECK_RETURN <span class="string">&quot;查询最新的binlog文件名失败！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;获取最新的 binlog 文件名为：<span class="variable">$BINLOG_FILE_BEFORE_END</span>&quot;</span></span><br><span class="line">  <span class="comment"># 增量备份 binlog</span></span><br><span class="line">  <span class="built_in">local</span> IS_BEGIN_BACKUP=0</span><br><span class="line">  <span class="built_in">local</span> BACKUP_FILES=<span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> `<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show master logs&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">tail</span> -n +2`</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$BINLOG_FILE_BEGIN</span> == <span class="variable">$i</span> ]];<span class="keyword">then</span></span><br><span class="line">      IS_BEGIN_BACKUP=1</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$IS_BEGIN_BACKUP</span> == 1 &amp;&amp; <span class="variable">$i</span> != <span class="variable">$BINLOG_FILE_BEFORE_END</span> ]]; <span class="keyword">then</span></span><br><span class="line">        BACKUP_FILES+=<span class="string">&quot; <span class="variable">$i</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">  <span class="comment"># 打包压缩 binlog</span></span><br><span class="line">  <span class="keyword">if</span> [[ <span class="variable">$&#123;BACKUP_FILES// /&#125;</span> == <span class="string">&quot;&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">      ECHO <span class="string">&quot;错误-没有有效的binlog,迭代binlog错误。&quot;</span></span><br><span class="line">      <span class="built_in">return</span> 1</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="comment"># 适用于mysql服务在远程主机的binlog打包（也适用本机）</span></span><br><span class="line">  <span class="variable">$DB_BIN</span>/mysqlbinlog -R --raw -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> <span class="variable">$BACKUP_FILES</span> \</span><br><span class="line">   &amp;&amp; tar -zcf <span class="variable">$BACKUP_DIR_LATEST</span>/binlog_daily_<span class="variable">$DATE</span>.tar.gz <span class="variable">$BACKUP_FILES</span> --remove-files</span><br><span class="line">  CHECK_RETURN <span class="string">&quot;增备打包 binlog 时发生错误！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;数据库增量备份执行完成。成功打包文件：<span class="variable">$BACKUP_DIR_LATEST</span>/binlog_daily_<span class="variable">$DATE</span>.tar.gz，包含 binlog ：<span class="variable">$BACKUP_FILES</span>&quot;</span></span><br><span class="line">  <span class="comment"># 将最新的 binlog 文件名写入 config 配置文件</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;`<span class="variable">$CURRENT_TIME</span>`        <span class="variable">$BINLOG_FILE_BEFORE_END</span>         INCREASE&quot;</span> &gt;&gt; <span class="variable">$BACKUP_CONFIG_FILE</span></span><br><span class="line">  CHECK_RETURN <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件失败！&quot;</span></span><br><span class="line">  ECHO <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件成功。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># TODO 全量备份</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">FULL_BACKUP</span></span>() &#123;</span><br><span class="line">    ECHO <span class="string">&quot;开始数据库全量备份&quot;</span></span><br><span class="line">    <span class="variable">$DB_BIN</span>/mysqldump -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -A -F -R -E --triggers --hex-blob --flush-privileges --single-transaction --master-data=2 | gzip &gt; <span class="variable">$BACKUP_DIR_LATEST</span>/db_fullbak_<span class="variable">$DATE</span>.sql.gz</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;数据库全量备份命令执行失败！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;数据库全量备份执行完成。成功打包 SQL 文件：<span class="variable">$BACKUP_DIR_LATEST</span>/db_fullbak_<span class="variable">$DATE</span>.sql.gz&quot;</span></span><br><span class="line">    <span class="comment"># 取最新的 binlog 文件名，作为备份截止文件</span></span><br><span class="line">    <span class="built_in">local</span> BINLOG_FILE_BEFORE_END=`<span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show master status&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="built_in">tail</span> -n1`</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;查询最新的binlog文件名失败！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;获取最新的 binlog 文件名为：<span class="variable">$BINLOG_FILE_BEFORE_END</span>&quot;</span></span><br><span class="line">    <span class="comment"># 将最新的 binlog 文件名写入 config 配置文件</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;    BACKUP_TIME           BINLOG_END_BEFORE        BACKUP_MODEL&quot;</span> &gt;&gt; <span class="variable">$BACKUP_CONFIG_FILE</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;`<span class="variable">$CURRENT_TIME</span>`        <span class="variable">$BINLOG_FILE_BEFORE_END</span>         FULL&quot;</span> &gt;&gt; <span class="variable">$BACKUP_CONFIG_FILE</span></span><br><span class="line">    CHECK_RETURN <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件失败！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;更新 <span class="variable">$BACKUP_CONFIG_FILE</span> 配置文件成功。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 检测数据库服务的状态</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">DB_SERVER_CHECK</span></span>()&#123;</span><br><span class="line">    <span class="variable">$DB_BIN</span>/mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;&quot;</span></span><br><span class="line">    CHECK_RETURN <span class="string">&quot;数据库服务不能正常连接！&quot;</span></span><br><span class="line">    ECHO <span class="string">&quot;数据库服务正常可连接。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 检测并创建备份目录</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BACKUP_DIR_CREATE</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">test</span> -d <span class="variable">$BACKUP_DIR_LATEST</span>;<span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 检测到目录已存在，即将执行后续逻辑。&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 目录不存在，即将创建。&quot;</span></span><br><span class="line">        <span class="built_in">mkdir</span> -pv <span class="variable">$BACKUP_DIR_LATEST</span></span><br><span class="line">        CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 目录创建失败！&quot;</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 目录创建成功。&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">test</span> -d <span class="variable">$BACKUP_DIR_OLDER</span>;<span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 检测到目录已存在，即将执行后续逻辑。&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录不存在，即将创建。&quot;</span></span><br><span class="line">        <span class="built_in">mkdir</span> -pv <span class="variable">$BACKUP_DIR_OLDER</span></span><br><span class="line">        CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录创建失败！&quot;</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录创建成功。&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 检测 binlog 是否开启</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BINLOG_EXIST</span></span>()&#123;</span><br><span class="line">    <span class="built_in">local</span> BINLOG_OPEN=`mysql -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PASSWORD</span> -P<span class="variable">$DB_PORT</span> -h<span class="variable">$DB_HOST</span> -e <span class="string">&quot;show variables like &#x27;log_bin&#x27;&quot;</span> | <span class="built_in">tail</span> -n +2 | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;查询 binlog 日志状态出错！&quot;</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$BINLOG_OPEN</span> == <span class="string">&quot;ON&quot;</span> ]];<span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;检测到 BINLOG 日志为打开状态。&quot;</span></span><br><span class="line">        <span class="built_in">return</span> 0</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    ECHO <span class="string">&quot;检测到 BINLOG 日志为关闭状态。&quot;</span></span><br><span class="line">    <span class="built_in">return</span> 1</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 归档7天以前的备份，清空14天以前的备份</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BACKUP_CLEANER</span></span>()&#123;</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;`ls -A <span class="variable">$BACKUP_DIR_LATEST</span>`&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 备份目录为空，没有要归档的文件&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      tar -zcf <span class="variable">$BACKUP_DIR_OLDER</span>/db_archive_<span class="variable">$DATE</span>.tar.gz  -C <span class="variable">$BACKUP_DIR_LATEST</span> .</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 归档失败！&quot;</span></span><br><span class="line">      ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 归档完成&quot;</span></span><br><span class="line">      <span class="built_in">rm</span> -rf <span class="variable">$BACKUP_DIR_LATEST</span>/*</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 清空失败！&quot;</span></span><br><span class="line">      ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_LATEST</span> 清空完成&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">local</span> CLEAN_FILES=`find <span class="variable">$BACKUP_DIR_OLDER</span> -mtime +14 -<span class="built_in">exec</span> <span class="built_in">ls</span> -A &#123;&#125; \;`</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$CLEAN_FILES</span>&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">        ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 目录中，没有要清空的14天以前的旧备份文件&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      find <span class="variable">$BACKUP_DIR_OLDER</span> -mtime +14 -<span class="built_in">exec</span> <span class="built_in">rm</span> -fr &#123;&#125; \;</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 清空14天以前的备份失败！&quot;</span></span><br><span class="line">      ECHO <span class="string">&quot;<span class="variable">$BACKUP_DIR_OLDER</span> 清空14天以前的备份成功。&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 备份方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">BACK_UP</span></span>() &#123;</span><br><span class="line">    <span class="comment"># 备份前的各种必要检测</span></span><br><span class="line">    DB_SERVER_CHECK</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    BINLOG_EXIST</span><br><span class="line">    CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    <span class="comment"># 如果今天是全备日或者备份目录为空，则执行全备，否则执行增备</span></span><br><span class="line">    <span class="keyword">if</span> [[ <span class="variable">$TODAY</span> == <span class="variable">$FULL_BACKUP_DAY</span> || <span class="string">&quot;`ls -A <span class="variable">$BACKUP_DIR_LATEST</span>`&quot;</span> == <span class="string">&quot;&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        BACKUP_CLEANER</span><br><span class="line">        CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">        FULL_BACKUP</span><br><span class="line">        CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      INCREASE_BACKUP</span><br><span class="line">      CHECK_RETURN <span class="string">&quot;执行中断，退出脚本！&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    ECHO <span class="string">&quot;备份脚本顺利执行完成。&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># 主函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">MAIN</span></span>() &#123;</span><br><span class="line"><span class="comment"># 首先检测创建备份目录，否则无法写日志，也无法创建备份文件</span></span><br><span class="line">BACKUP_DIR_CREATE</span><br><span class="line"><span class="comment"># 执行备份逻辑</span></span><br><span class="line">BACK_UP &gt;&gt; <span class="variable">$BACKUP_LOG</span> <span class="comment"># 输出到日志文件</span></span><br><span class="line"><span class="comment">#BACK_UP # 输出到标准输出</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用主函数</span></span><br><span class="line">MAIN</span><br></pre></td></tr></table></figure>


<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">mysql</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-mysql-bk-shell/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-mysql-use" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-mysql-use/">mysql常用命令和相关知识点</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-mysql-use/" class="archive-article-date">
  	<time datetime="2022-10-26T08:44:09.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="修改最大连接数"><a href="#修改最大连接数" class="headerlink" title="修改最大连接数"></a>修改最大连接数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#查看当前设置的最大连接数</span><br><span class="line">show variables like &#x27;%max_connections%&#x27;;</span><br><span class="line">#查看当前单用户最大连接数</span><br><span class="line">show variables like &#x27;%max_user_connections%&#x27;;</span><br><span class="line"># 查看数据库当前的连接数（Threads_connected ：这个数就是打开的连接数.）</span><br><span class="line">show status like &#x27;Threads%&#x27;;</span><br><span class="line">#临时修改最大连接数为2000（如果数据库重启会失效）</span><br><span class="line">set global max_connections =2000;</span><br><span class="line">#永久修改最大连接数为2000（数据库重启不会失效）</span><br><span class="line">编辑`mysql.cnf`配置文件，在`[mysqld]`下方添加`max_connections=2000`</span><br></pre></td></tr></table></figure>

<h3 id="慢查询"><a href="#慢查询" class="headerlink" title="慢查询"></a>慢查询</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#------ 开启/关闭 慢查询日志----</span><br><span class="line">set GLOBAL slow_query_log = &#x27;ON/OFF&#x27;;</span><br><span class="line">#------ 设置 慢查询日志 的阈值（秒，小数点后可精确到微秒）----</span><br><span class="line">set GLOBAL long_query_time = 4.000000;</span><br><span class="line">#------ 开启/关闭 记录没有使用索引的语句----</span><br><span class="line">set GLOBAL log_queries_not_using_indexes = &#x27;ON/OFF&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="修改时区"><a href="#修改时区" class="headerlink" title="修改时区"></a>修改时区</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#查看mysql当前时区</span><br><span class="line">show variables like &#x27;%time_zone%&#x27;;</span><br><span class="line">#设置全局时区</span><br><span class="line">set global time_zone=&#x27;Asia/Shanghai&#x27;;</span><br><span class="line">#设置当前时区</span><br><span class="line">set  time_zone=&#x27;Asia/Shanghai&#x27;;</span><br><span class="line">#刷新权限</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>


<h3 id="登录mysql"><a href="#登录mysql" class="headerlink" title="登录mysql"></a>登录mysql</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root -p</span><br><span class="line">$ 密码</span><br></pre></td></tr></table></figure>

<h3 id="连接远程数据库"><a href="#连接远程数据库" class="headerlink" title="连接远程数据库"></a>连接远程数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -proot -h192.168.0.333 -P3306   #（mysql -u用户名 -p密码 -h 远程主机 -P数据库端口。）密码如果包含特殊字符将密码用单引号扩起来，如：-p&#x27;test@&amp;12345&#x27;</span><br><span class="line">#展示所有数据库</span><br><span class="line">show databases       </span><br><span class="line">#选择数据库</span><br><span class="line">use 数据库名         </span><br><span class="line">#显示表结构</span><br><span class="line">desc tableName       </span><br><span class="line">#显示表的DDL语句</span><br><span class="line">show create table tableName </span><br><span class="line"></span><br><span class="line"># 允许root远程登录</span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;设一个密码&#x27; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

<h3 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#创建用户‘htrace22’（`%`表示所有ip均可链接，可制定为具体的ip地址）</span><br><span class="line">mysql&gt; CREATE USER `htrace22`@`%` IDENTIFIED BY &#x27;密码&#x27;;  </span><br><span class="line"></span><br><span class="line">#创建用户‘hszk’并指定加密方式为&#x27;mysql_native_password&#x27;</span><br><span class="line">mysql&gt; CREATE USER &#x27;hszk&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password   BY &#x27;密码&#x27;;</span><br><span class="line"></span><br><span class="line"># 创建一个普通用户（创建‘非super用户’常用命令）</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE USER &#x27;temp&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;temp&#x27;;</span><br><span class="line"></span><br><span class="line">mysql&gt; GRANT EXECUTE, PROCESS, SELECT, SHOW DATABASES, SHOW VIEW, ALTER, ALTER ROUTINE, CREATE, CREATE ROUTINE, CREATE TEMPORARY TABLES, CREATE VIEW, DELETE, DROP, EVENT, INDEX, INSERT, REFERENCES, TRIGGER, UPDATE, LOCK TABLES, RELOAD  ON *.* TO &#x27;temp&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure>






<h3 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x27;root&#x27;@&#x27;localhost&#x27;	#修改本机root用户的密码</span><br><span class="line">&#x27;root&#x27;@&#x27;%&#x27;			#修改远程root用户的密码</span><br><span class="line"></span><br><span class="line">#方式一</span><br><span class="line">	#修改密码</span><br><span class="line">	ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;新密码&#x27;; </span><br><span class="line">#方式二	</span><br><span class="line">	#修改密码，同时修改加密方式为‘mysql_native_password’</span><br><span class="line">	ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;新密码&#x27;;</span><br><span class="line">#方式三</span><br><span class="line">	mysqladmin -u root -p password 新密码</span><br><span class="line">	回车之后会要求让输入原始密码，然后就修改了密码。</span><br><span class="line">	</span><br><span class="line">#修改密码后如果不生效，请执行刷新权限的命令</span><br><span class="line">	FLUSH PRIVILEGES;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#------修改用户密码的加密方式为mysql_native_password----------</span><br><span class="line"></span><br><span class="line">mysql&gt; ALTER USER &#x27;htrace2&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;htrace@20182&#x27; PASSWORD EXPIRE NEVER;</span><br><span class="line">mysql&gt; ALTER USER &#x27;htrace2&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;htrace@20182&#x27;; </span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="用户查询、赋权、删除"><a href="#用户查询、赋权、删除" class="headerlink" title="用户查询、赋权、删除"></a>用户查询、赋权、删除</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#------查看所有用户------</span><br><span class="line"></span><br><span class="line">mysql&gt; use mysql；</span><br><span class="line">mysql&gt; select * from user;	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#------赋权限给用户----------</span><br><span class="line"></span><br><span class="line">#授权‘htrace22’用户，拥有所有数据库的所有操作权限</span><br><span class="line">mysql&gt; GRANT ALL ON *.* TO `htrace22`@`%` WITH GRANT OPTION; </span><br><span class="line"></span><br><span class="line">#授权‘hszk’用户，拥有‘parkinglot’数据库的所有操作权限</span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON parkinglot.* TO &#x27;hszk&#x27;@&#x27;%&#x27;;</span><br><span class="line"></span><br><span class="line">#------删除用户----------</span><br><span class="line"></span><br><span class="line">mysql&gt; DROP USER &#x27;htrace2&#x27;@&#x27;%&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="设置只读模式"><a href="#设置只读模式" class="headerlink" title="设置只读模式"></a>设置只读模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 设置普通用户只读模式（super用户可读写）</span><br><span class="line">set global read_only=1;</span><br><span class="line"></span><br><span class="line"># 解除普通用户只读模式</span><br><span class="line">set global read_only=0;</span><br><span class="line"></span><br><span class="line"># 设置所有用户只读模式（慎用，加锁后只能由当前会话解锁，否则只能杀会话进程或重启服务解锁。所有用户只读。详情可参考：https://segmentfault.com/a/1190000010539455）</span><br><span class="line">set global read_only=1;</span><br><span class="line">flush tables with read lock;</span><br><span class="line"></span><br><span class="line"># 解除所有用户只读模式</span><br><span class="line">set global read_only=0;</span><br><span class="line">unlock tables;</span><br></pre></td></tr></table></figure>


<h3 id="查看mysql配置文件的路径"><a href="#查看mysql配置文件的路径" class="headerlink" title="查看mysql配置文件的路径"></a>查看mysql配置文件的路径</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># linux</span><br><span class="line">mysql --help | grep my.cnf </span><br><span class="line"># windows</span><br><span class="line">mysql --help | findstr my.cnf</span><br></pre></td></tr></table></figure>

<h3 id="mysql系统变量设置"><a href="#mysql系统变量设置" class="headerlink" title="mysql系统变量设置"></a>mysql系统变量设置</h3><p>如果是全局级别需要加GLOBAL，如果是会话级别需要加SESSION。如果什么都不写，默认是SESSION。<br><strong>全局变量的作用域：</strong> 修改全局变量后，针对后续创建的所有会话（连接）有效。服务重启后失效。<br><strong>会话变量的作用域：</strong> 仅仅针对当前的会话（连接）有效。<br><strong>服务器的配置文件：</strong> 永久有效，如果修改了，需重启服务才能生效。<br><strong>修改mysql系统变量不重启服务的方式：</strong> 依次修改 当前所有会话变量、全局变量、配置文件,这样就能保证当前会话、后续会话、及服务重启后，系统变量都能生效的效果。   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">-- 查看mysql版本</span><br><span class="line">SHOW GLOBAL VARIABLES LIKE &#x27;%version%&#x27;;</span><br><span class="line">-- 显示所有全局变量</span><br><span class="line">SHOW GLOBAL VARIABLES;</span><br><span class="line">-- 显示所有会话变量</span><br><span class="line">SHOW SESSION VARIABLES;</span><br><span class="line">-- 查看满足模糊条件的部分全局变量</span><br><span class="line">SHOW GLOBAL VARIABLES LIKE &#x27;%character%&#x27;;</span><br><span class="line">-- 查看满足模糊条件的部分会话变量</span><br><span class="line">SHOW SESSION VARIABLES LIKE &#x27;%character%&#x27;;</span><br><span class="line">-- 查看某个指定的全局变量</span><br><span class="line">SELECT @@GLOBAL.系统变量名;</span><br><span class="line">-- 查看某个指定的会话变量</span><br><span class="line">SELECT @@SESSION.系统变量名;</span><br><span class="line">-- 为全局变量设置值</span><br><span class="line">SET GLOBAL 系统变量名 = 值;</span><br><span class="line">-- 为会话变量设置值</span><br><span class="line">SET SESSION 系统变量名 = 值;</span><br><span class="line">-- 为全局变量设置值</span><br><span class="line">SET @@GLOBAL.系统变量名 = 值;</span><br><span class="line">-- 为会话变量设置值</span><br><span class="line">SET @@SESSION.系统变量名 = 值;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="binlog常用参数介绍"><a href="#binlog常用参数介绍" class="headerlink" title="binlog常用参数介绍"></a>binlog常用参数介绍</h3><p><code>binlog_rows_query_log_events=1</code><br>在row模式下开启该参数,将把sql语句打印到binlog日志里面.默认是0(off);</p>
<p><code>binlog_row_image=FULL</code><br>在binlog为row格式下,full将记录update前后所有字段的值,binlog增长速度较快,对存储空间,主从传输都是一个不小的压力。minimal时,只记录更改字段的值和where字段的值,noblob时,记录除了blob和text的所有字段的值,如果update的blob或text字段,也只记录该字段更改后的值,更改前的不记录;默认为full。（只有值为full时，才能通过binlog进行数据恢复）</p>
<p>在mysql中查询当前二进制日志列表：<code>SHOW BINARY LOGS;</code>或<code>SHOW MASTER LOGS;</code></p>
<h3 id="mysqlbinlog命令介绍"><a href="#mysqlbinlog命令介绍" class="headerlink" title="mysqlbinlog命令介绍"></a>mysqlbinlog命令介绍</h3><p><strong>一条示例命令：</strong> <code>mysqlbinlog /data/mysql_data/bin.000008 --database EpointFrame --base64-output=decode-rows -vv --skip-gtids=true --start-datetime=&quot;2016-09-25 21:57:19&quot;   |grep -C 1 -i “delete from Audit_Orga_Specialtype” &gt; /opt/sql.log</code><br><strong>-v 参数：</strong> 显示sql语句<br><strong>-vv 参数：</strong> 显示sql语句和字段类型<br><strong>–base64-output参数：</strong> 用来控制binlog部分是否显示出来的，指定为decode-rows表示不显示binglog部分（加了该参数后导出的binlog文件将不能用来进行数据恢复）<br><strong>grep -C 1</strong> 显示符合查询条件的当前行，及该行前后各一行的数据<br><strong>grep -i</strong>  查询时忽略大小写  </p>
<h3 id="通过mysqlbinlog恢复数据方法"><a href="#通过mysqlbinlog恢复数据方法" class="headerlink" title="通过mysqlbinlog恢复数据方法"></a>通过mysqlbinlog恢复数据方法</h3><ol>
<li>在备份时使用<code>--master-data=2</code> 参数，在备份语句里添加CHANGE MASTER语句以及binlog文件及位置点信息。如：<code>mysqldump -uroot -p -B -F -R -x --master-data=2 ops|gzip &gt;/opt/backup/ops_$(date +%F).sql.gz</code></li>
<li>通过最新的备份文件还原数据库，如：<code>mysql --host=host_name -u root -p &lt; dump_file</code></li>
<li>使用<code>grep</code>命令从备份文件中找到备份时对应的binlog位置，如：<code>grep CHANGE ops_2016-09-25.sql </code> 从dump_file中找到– CHANGE MASTER TO MASTER_LOG_FILE&#x3D;‘binlog.001002’, MASTER_LOG_POS&#x3D;27284;</li>
<li>通过以上几步，已经将数据库还原到了binlog的binlog.001002对应的27284位置，然后再通过mysqlbinlog命令对27284位置之后的数据进行增量恢复即可。如：<code>mysqlbinlog --start-position=27284 binlog.001002 binlog.001003 binlog.001004 | mysql --host=host_name -u root -p</code>。如果想恢复到指定的时间点也可以通过设置<code>--stop-position=binlog截止位置</code>实现。另外如果想恢复某个时间段的数据也可以使用时间戳参数进行恢复，如：<code>--start-datetime=&quot;2016-09-25 21:57:19&quot; --stop-datetime=&quot;2016-09-25 21:58:41&quot;</code>。</li>
</ol>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">mysql</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-mysql-use/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-mysql-bk-res" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-mysql-bk-res/">mysql备份和恢复</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-mysql-bk-res/" class="archive-article-date">
  	<time datetime="2022-10-26T08:43:18.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>mysql恢复时，恢复几个数据库取决于备份文件中包含了几个库的备份，还原命令本身不支持从多个库的备份文件中只恢复某一个数据库。（除非备份时，只备份了一个）</li>
<li>备份时如果使用了 <code>-A</code> 或 <code>-B</code> 参数，指定了数据库，则备份文件中会包含 <code>CREATE DATABASE</code> 和 <code>use database</code> 语句。恢复时不需要指定数据库。否则需要指定恢复到哪个库，并且该库要提前创建好。</li>
<li>因为不使用 <code>-B</code> 参数时，备份文件中不包含数据库名相关信息，因此利用该特性，也可以将该备份还原到别的数据库名。（还原时指定要还原到的数据库名即可）。</li>
</ol>
<h1 id="备份前和恢复完成后的操作（可选）"><a href="#备份前和恢复完成后的操作（可选）" class="headerlink" title="备份前和恢复完成后的操作（可选）"></a>备份前和恢复完成后的操作（可选）</h1><p>根据实际情况，可设置普通用户或所有用户只读。等还原完成后，再进行对应的解除操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 设置普通用户只读模式（super用户可读写）</span><br><span class="line">set global read_only=1;</span><br><span class="line"></span><br><span class="line"># 解除普通用户只读模式</span><br><span class="line">set global read_only=0;</span><br><span class="line"></span><br><span class="line"># 设置所有用户只读模式（慎用，加锁后只能由当前会话解锁，否则只能杀会话进程或重启服务解锁。所有用户只读。详情可参考：https://segmentfault.com/a/1190000010539455）</span><br><span class="line">set global read_only=1;</span><br><span class="line">flush tables with read lock;</span><br><span class="line"></span><br><span class="line"># 解除所有用户只读模式</span><br><span class="line">set global read_only=0;</span><br><span class="line">unlock tables;</span><br></pre></td></tr></table></figure>


<h1 id="使用-B-参数备份和还原数据库（导出的备份文件会包含建库语句）"><a href="#使用-B-参数备份和还原数据库（导出的备份文件会包含建库语句）" class="headerlink" title="使用 -B 参数备份和还原数据库（导出的备份文件会包含建库语句）"></a>使用 -B 参数备份和还原数据库（导出的备份文件会包含建库语句）</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 使用 -B 参数，备份数据库 t1</span><br><span class="line">mysqldump -uroot -proot -h192.168.1.66 -P31306 -B t1 &gt; t1.bk.sql</span><br><span class="line"># 还原数据库 t1</span><br><span class="line">mysql -uroot -proot -h192.168.1.66 -P31306 &lt; t1.bk.sql</span><br></pre></td></tr></table></figure>


<h1 id="不使用-B-参数备份和还原数据库（导出的备份文件不包含建库语句）"><a href="#不使用-B-参数备份和还原数据库（导出的备份文件不包含建库语句）" class="headerlink" title="不使用 -B 参数备份和还原数据库（导出的备份文件不包含建库语句）"></a>不使用 -B 参数备份和还原数据库（导出的备份文件不包含建库语句）</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 不使用 -B 参数，备份数据库 t1</span><br><span class="line">mysqldump -uroot -proot -h192.168.1.66 -P31306 t1 &gt; t1.bk.sql</span><br><span class="line"># 还原数据库 t1（数据库 t1 必须要提前创建好，并且在语句中指定该库名）</span><br><span class="line">mysql -uroot -proot -h192.168.1.66 -P31306 t1 &lt; t1.bk.sql</span><br><span class="line"># 因为不使用 -B 参数时，备份文件中不包含数据库名相关信息，因此也可以将该备份还原到别的数据库名。如下例将数据库t1的备份还原到数据库t2</span><br><span class="line">mysql -uroot -proot -h192.168.1.66 -P31306 t2 &lt; t1.bk.sql</span><br></pre></td></tr></table></figure>


<h1 id="mysqldump-选项介绍"><a href="#mysqldump-选项介绍" class="headerlink" title="mysqldump 选项介绍"></a>mysqldump 选项介绍</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">-A --all-databases：导出全部数据库</span><br><span class="line">-Y --all-tablespaces：导出全部表空间</span><br><span class="line">-y --no-tablespaces：不导出任何表空间信息</span><br><span class="line">--add-drop-database每个数据库创建之前添加drop数据库语句。</span><br><span class="line">--add-drop-table每个数据表创建之前添加drop数据表语句。(默认为打开状态，使用--skip-add-drop-table取消选项)</span><br><span class="line">--add-locks在每个表导出之前增加LOCK TABLES并且之后UNLOCK TABLE。(默认为打开状态，使用--skip-add-locks取消选项)</span><br><span class="line">--comments附加注释信息。默认为打开，可以用--skip-comments取消</span><br><span class="line">--compact导出更少的输出信息(用于调试)。去掉注释和头尾等结构。可以使用选项：--skip-add-drop-table --skip-add-locks --skip-comments --skip-disable-keys</span><br><span class="line">-c --complete-insert：使用完整的insert语句(包含列名称)。这么做能提高插入效率，但是可能会受到max_allowed_packet参数的影响而导致插入失败。</span><br><span class="line">-C --compress：在客户端和服务器之间启用压缩传递所有信息</span><br><span class="line">-B--databases：导出几个数据库。参数后面所有名字参量都被看作数据库名。</span><br><span class="line">--debug输出debug信息，用于调试。默认值为：d:t:o,/tmp/</span><br><span class="line">--debug-info输出调试信息并退出</span><br><span class="line">--default-character-set设置默认字符集，默认值为utf8</span><br><span class="line">--delayed-insert采用延时插入方式（INSERT DELAYED）导出数据</span><br><span class="line">-E--events：导出事件。</span><br><span class="line">--master-data：在备份文件中写入备份时对应的binlog文件，在恢复时，增量数据从这个文件之后的日志开始恢复。值为1时，binlog文件名和位置没有注释，为2时，则在备份文件中将binlog的文件名和位置进行注释</span><br><span class="line">--flush-logs开始导出之前刷新日志。请注意：假如一次导出多个数据库(使用选项--databases或者--all-databases)，将会逐个数据库刷新日志。除使用--lock-all-tables或者--master-data外。在这种情况下，日志将会被刷新一次，相应的所以表同时被锁定。因此，如果打算同时导出和刷新日志应该使用--lock-all-tables 或者--master-data 和--flush-logs。</span><br><span class="line">--flush-privileges在导出mysql数据库之后，发出一条FLUSH PRIVILEGES 语句。为了正确恢复，该选项应该用于导出mysql数据库和依赖mysql数据库数据的任何时候。</span><br><span class="line">--force在导出过程中忽略出现的SQL错误。</span><br><span class="line">-h --host：需要导出的主机信息</span><br><span class="line">--ignore-table不导出指定表。指定忽略多个表时，需要重复多次，每次一个表。每个表必须同时指定数据库和表名。例如：--ignore-table=database.table1 --ignore-table=database.table2 ……</span><br><span class="line">-x --lock-all-tables：提交请求锁定所有数据库中的所有表，以保证数据的一致性。这是一个全局读锁，并且自动关闭--single-transaction 和--lock-tables 选项。</span><br><span class="line">-l --lock-tables：开始导出前，锁定所有表。用READ LOCAL锁定表以允许MyISAM表并行插入。对于支持事务的表例如InnoDB和BDB，--single-transaction是一个更好的选择，因为它根本不需要锁定表。请注意当导出多个数据库时，--lock-tables分别为每个数据库锁定表。因此，该选项不能保证导出文件中的表在数据库之间的逻辑一致性。不同数据库表的导出状态可以完全不同。</span><br><span class="line">--single-transaction：适合innodb事务数据库的备份。保证备份的一致性，原理是设定本次会话的隔离级别为Repeatable read，来保证本次会话（也就是dump）时，不会看到其它会话已经提交了的数据。</span><br><span class="line">-F：刷新binlog，如果binlog打开了，-F参数会在备份时自动刷新binlog进行切换。</span><br><span class="line">-n --no-create-db：只导出数据，而不添加CREATE DATABASE 语句。</span><br><span class="line">-t --no-create-info：只导出数据，而不添加CREATE TABLE 语句。</span><br><span class="line">-d --no-data：不导出任何数据，只导出数据库表结构。</span><br><span class="line">-p --password：连接数据库密码</span><br><span class="line">-P --port：连接数据库端口号</span><br><span class="line">-u --user：指定连接的用户名。</span><br></pre></td></tr></table></figure>

<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">mysql</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-mysql-bk-res/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-lvm-extend" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-lvm-extend/">lvm扩容步骤</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-lvm-extend/" class="archive-article-date">
  	<time datetime="2022-10-26T08:42:20.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>使用fdisk创建一个普通分区（也可以使用现有的硬盘分区或一整块硬盘），如：&#x2F;dev&#x2F;sda1 可以是主分区也可是逻辑分区,过程略。<br>如果使用一整块硬盘的进行扩容的话，可以忽略分区过程，直接执行第三步创建物理卷。</li>
<li>将 &#x2F;dev&#x2F;sda1 设置为lvm模式<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 对 /dev/sda 进行分区设置</span><br><span class="line">fdisk /dev/sda</span><br><span class="line"># 输入 t 改变分区的系统id</span><br><span class="line">t</span><br><span class="line"># 输入要改变的分区号，如 1</span><br><span class="line">1</span><br><span class="line"># 输入 L 可列出系统id的所有代码</span><br><span class="line">L</span><br><span class="line"># 输入lvm对应的代码 8e</span><br><span class="line">8e</span><br><span class="line"># 输入 w 使设置生效</span><br><span class="line">w</span><br><span class="line"># 如果分区表没有正常更新，可执行以下命令更新分区表</span><br><span class="line">partx -a /dev/sdb</span><br></pre></td></tr></table></figure></li>
<li>将新建的lvm分区转化为PV（物理卷）。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 将分区 /dev/sda1 转化为物理卷</span><br><span class="line">pvcreate /dev/sda1</span><br><span class="line"></span><br><span class="line"># 将硬盘 /dev/sda  转化为物理卷</span><br><span class="line">pvcreate /dev/sda</span><br></pre></td></tr></table></figure></li>
<li>使用<code>df -h</code>命令，查看系统的挂载情况。确定要扩展的目录对应的挂载点<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon centos]# df -h</span><br><span class="line">文件系统                 容量  已用  可用 已用% 挂载点</span><br><span class="line">devtmpfs                  16G     0   16G    0% /dev</span><br><span class="line">tmpfs                     16G     0   16G    0% /dev/shm</span><br><span class="line">tmpfs                     16G   18M   16G    1% /run</span><br><span class="line">tmpfs                     16G     0   16G    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root   56G  1.3G   55G    3% /</span><br><span class="line">/dev/sdb5                178G   47G  122G   28% /data</span><br><span class="line">/dev/sdb1                473M  143M  330M   31% /boot</span><br><span class="line">tmpfs                    3.2G     0  3.2G    0% /run/user/0</span><br><span class="line">/dev/sda1                3.6T  138G  3.3T    4% /data_slow</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>比如我们要扩展根目录的空间，通过上面命令可以得知根目录的挂载点为<code>/dev/mapper/centos-root</code>，对应的逻辑卷即为<code>/dev/centos/root</code>，可以通过<code>lvdisplay</code>命令再进行一下确认。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon centos]# lvdisplay</span><br><span class="line">  --- Logical volume ---</span><br><span class="line">  LV Path                /dev/centos/root # 逻辑卷路径</span><br><span class="line">  LV Name                root </span><br><span class="line">  VG Name                centos # 逻辑卷所属的卷组名称</span><br><span class="line">  LV UUID                Fe5MNi-r0OW-exz7-dSWO-F9ZZ-kkeU-PLQ65v</span><br><span class="line">  LV Write Access        read/write</span><br><span class="line">  LV Creation host, time bogon, 2021-01-14 15:50:30 +0800</span><br><span class="line">  LV Status              available</span><br><span class="line">  # open                 1</span><br><span class="line">  LV Size                &lt;55.99 GiB</span><br><span class="line">  Current LE             14333</span><br><span class="line">  Segments               3</span><br><span class="line">  Allocation             inherit</span><br><span class="line">  Read ahead sectors     auto</span><br><span class="line">  - currently set to     256</span><br><span class="line">  Block device           253:0</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>将新转化的物理卷加入要扩展的卷组，加入后卷组的剩余可用空间变大。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 此处的 centos 为 卷组名称，卷组的名称也可使用 vgdisplay 命令进行查看</span><br><span class="line">vgextend centos /dev/sda1</span><br></pre></td></tr></table></figure></li>
<li>视情况，将想要扩展的容量分配给卷组中对应的lv（逻辑卷）。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 将centos卷组的全部剩余空间分配给root逻辑卷</span><br><span class="line">lvextend  /dev/centos/root</span><br><span class="line">或</span><br><span class="line">lvextend -l +100%FREE /dev/mapper/centos-root</span><br><span class="line"></span><br><span class="line"># 从centos卷组的全部剩余空间中划分出10G分配给root逻辑卷</span><br><span class="line">lvextend -L +10G /dev/centos/root</span><br></pre></td></tr></table></figure></li>
<li>刷新硬盘容量，使扩容生效<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># xfs格式的文件系统使用该命令</span><br><span class="line">xfs_growfs /dev/centos/root</span><br><span class="line"></span><br><span class="line"># ext格式的文件系统使用该命令</span><br><span class="line">resize2fs  /dev/centos/root</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="lvm创建步骤"><a href="#lvm创建步骤" class="headerlink" title="lvm创建步骤"></a>lvm创建步骤</h1><ol>
<li>同上面扩容的前3个步骤一样，先将硬盘或分区转化为PV（物理卷）</li>
<li>使用PV（物理卷）创建VG（卷组），如此处使用PV <code>/dev/sdb</code> 和 <code>/dev/sdc</code> 创建了VG <code>storage</code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgcreate storage /dev/sdb /dev/sdc</span><br></pre></td></tr></table></figure></li>
<li>从卷组storage中创建一个名为vo的逻辑卷，其大小为150M<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvcreate -n vo -L 150M storage</span><br></pre></td></tr></table></figure></li>
<li>把生成好的逻辑卷进行格式化，然后挂载使用。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 将逻辑卷格式化为ext4格式</span><br><span class="line">mkfs.ext4 /dev/storage/vo </span><br><span class="line"># 创建挂载目录</span><br><span class="line">mkdir /linuxprobe</span><br><span class="line"># 挂载</span><br><span class="line">mount /dev/storage/vo /linuxprobe</span><br></pre></td></tr></table></figure></li>
<li>将挂载信息写入<code>/etc/fstab</code>实现永久挂载<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;/dev/storage/vo /linuxprobe ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="查看卷组（存储池）名称及使用情况"><a href="#查看卷组（存储池）名称及使用情况" class="headerlink" title="查看卷组（存储池）名称及使用情况"></a>查看卷组（存储池）名称及使用情况</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgdisplay</span><br></pre></td></tr></table></figure>
<h2 id="查看逻辑卷（数据卷）空间状态"><a href="#查看逻辑卷（数据卷）空间状态" class="headerlink" title="查看逻辑卷（数据卷）空间状态"></a>查看逻辑卷（数据卷）空间状态</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvdisplay</span><br></pre></td></tr></table></figure>

<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u012439646/article/details/73380197">https://blog.csdn.net/u012439646/article/details/73380197</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lenmom/p/9897739.html">https://www.cnblogs.com/lenmom/p/9897739.html</a><br><a target="_blank" rel="noopener" href="https://www.linuxprobe.com/chapter-07.html#72_LVM">https://www.linuxprobe.com/chapter-07.html#72_LVM</a></p>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">lvm</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-lvm-extend/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-linux-chrony-ntpdate" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-linux-chrony-ntpdate/">linux时间同步chrony和ntpdate</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-linux-chrony-ntpdate/" class="archive-article-date">
  	<time datetime="2022-10-26T08:41:18.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="检查并设置时区"><a href="#检查并设置时区" class="headerlink" title="检查并设置时区"></a>检查并设置时区</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"># 查看当前主机的时区</span><br><span class="line"># timedatectl</span><br><span class="line">      Local time: Fri 2018-2-29 13:31:04 CST</span><br><span class="line">  Universal time: Fri 2018-2-29 05:31:04 UTC</span><br><span class="line">        RTC time: Fri 2018-2-29 08:17:20</span><br><span class="line">       Time zone: Asia/Shanghai (CST, +0800)</span><br><span class="line">     NTP enabled: yes</span><br><span class="line">NTP synchronized: yes</span><br><span class="line"> RTC in local TZ: no</span><br><span class="line">      DST active: n/a</span><br><span class="line"></span><br><span class="line">如果你当前的时区不正确，请按照以下操作设置。</span><br><span class="line"></span><br><span class="line">#查看所有可用的时区：</span><br><span class="line"></span><br><span class="line"># timedatectl list-timezones</span><br><span class="line"></span><br><span class="line">#筛选式查看在亚洲S开的上海可用时区：</span><br><span class="line"></span><br><span class="line"># timedatectl list-timezones |  grep  -E &quot;Asia/S.*&quot;</span><br><span class="line"></span><br><span class="line">Asia/Sakhalin</span><br><span class="line">Asia/Samarkand</span><br><span class="line">Asia/Seoul</span><br><span class="line">Asia/Shanghai</span><br><span class="line">Asia/Singapore</span><br><span class="line">Asia/Srednekolymsk</span><br><span class="line"></span><br><span class="line"># 设置当前系统为Asia/Shanghai上海时区：</span><br><span class="line"># timedatectl set-timezone Asia/Shanghai</span><br><span class="line"></span><br><span class="line"># 设置时间</span><br><span class="line"># timedatectl set-time &quot;YYYY-MM-DD HH:MM:SS&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 设置硬件时间,硬件时间默认为UTC：</span><br><span class="line"># timedatectl set-local-rtc 1</span><br><span class="line"></span><br><span class="line"># 是否NTP服务器同步 yes/no</span><br><span class="line"># timedatectl set-ntp yes</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="chrony"><a href="#chrony" class="headerlink" title="chrony"></a>chrony</h1><p>chrony 可用来自动同步集群中主机的时钟。</p>
<h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><ol>
<li>安装chrony软件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@server ~]# yum install chrony -y</span><br></pre></td></tr></table></figure></li>
<li>修改配置文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@server ~]# vi /etc/chrony.conf</span><br><span class="line"></span><br><span class="line"># Use public servers from the pool.ntp.org project.</span><br><span class="line"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span><br><span class="line"># server 0.centos.pool.ntp.org iburst</span><br><span class="line"># server 1.centos.pool.ntp.org iburst</span><br><span class="line"># server 2.centos.pool.ntp.org iburst</span><br><span class="line"># 远程时钟服务器</span><br><span class="line">server time1.aliyun.com iburst</span><br><span class="line"></span><br><span class="line"># Record the rate at which the system clock gains/losses time.</span><br><span class="line">driftfile /var/lib/chrony/drift</span><br><span class="line"></span><br><span class="line"># Allow the system clock to be stepped in the first three updates</span><br><span class="line"># if its offset is larger than 1 second.</span><br><span class="line">makestep 1.0 3</span><br><span class="line"></span><br><span class="line"># Enable kernel synchronization of the real-time clock (RTC).</span><br><span class="line"># 将启用一个内核模式，在该模式中，系统时间每11分钟会拷贝到实时时钟</span><br><span class="line">rtcsync</span><br><span class="line"></span><br><span class="line"># Enable hardware timestamping on all interfaces that support it.</span><br><span class="line">#hwtimestamp *</span><br><span class="line"></span><br><span class="line"># Increase the minimum number of selectable sources required to adjust</span><br><span class="line"># the system clock.</span><br><span class="line">#minsources 2</span><br><span class="line"></span><br><span class="line"># Allow NTP client access from local network.</span><br><span class="line"># 允许或拒绝指定网络的主机同步时间，不指定就是允许所有，默认不开启。（allow：允许 deny：拒绝）</span><br><span class="line">allow 192.168.1.0/24</span><br><span class="line"># Serve time even if not synchronized to a time source.</span><br><span class="line"># 即使服务端没有同步到精确的网络时间，也允许向客户端同步不精确的时间。</span><br><span class="line">local stratum 10</span><br><span class="line"></span><br><span class="line"># Specify file containing keys for NTP authentication.</span><br><span class="line">#keyfile /etc/chrony.keys</span><br><span class="line"></span><br><span class="line"># Specify directory for log files.</span><br><span class="line">logdir /var/log/chrony</span><br><span class="line"></span><br><span class="line"># Select which information is logged.</span><br><span class="line">#log measurements statistics tracking</span><br></pre></td></tr></table></figure></li>
<li>启动、开机自启动、查看状态、查看同步源<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@server ~]# systemctl start chronyd</span><br><span class="line"></span><br><span class="line">[root@server ~]# systemctl enable chronyd</span><br><span class="line"></span><br><span class="line">[root@server ~]# systemctl status chronyd</span><br><span class="line">● chronyd.service - NTP client/server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/chronyd.service; enabled; vendor preset: enabled)</span><br><span class="line">   Active: active (running) since 一 2018-04-23 11:25:38 CST; 6min ago</span><br><span class="line"></span><br><span class="line">[root@server ~]# chronyc sources</span><br><span class="line">210 Number of sources = 1</span><br><span class="line">MS Name/IP address         Stratum Poll Reach LastRx Last sample               </span><br><span class="line">===============================================================================</span><br><span class="line">^* time4.aliyun.com              2   6    17    41    +87us[+1374us] +/-   28ms</span><br></pre></td></tr></table></figure>
执行<code>chronyc sources</code>命令后，输出信息中包含<code>^?</code>代表时间未同步，<code>^*</code>代表时间已同步</li>
</ol>
<h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><ol>
<li>安装chrony软件。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@server ~]# yum install chrony -y</span><br></pre></td></tr></table></figure></li>
<li>修改配置文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@server ~]# vi /etc/chrony.conf</span><br><span class="line"></span><br><span class="line"># Use public servers from the pool.ntp.org project.</span><br><span class="line"># Please consider joining the pool (http://www.pool.ntp.org/join.html).</span><br><span class="line"># server 0.centos.pool.ntp.org iburst</span><br><span class="line"># server 1.centos.pool.ntp.org iburst</span><br><span class="line"># server 2.centos.pool.ntp.org iburst</span><br><span class="line"># 远程时钟服务器（设置为刚才的服务端地址，如：192.168.1.55）</span><br><span class="line">server 192.168.1.55 iburst</span><br><span class="line"></span><br><span class="line"># 其它配置项保持默认即可</span><br></pre></td></tr></table></figure></li>
<li>启动、开机自启动、查看状态、查看同步源。方法同服务端一样。</li>
</ol>
<h2 id="chrony-常用命令"><a href="#chrony-常用命令" class="headerlink" title="chrony 常用命令"></a>chrony 常用命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">查看时间同步源和同步状态（输出信息中包含`^?`代表时间未同步，`^*`代表时间已同步）</span><br><span class="line">$ chronyc sources -v</span><br><span class="line"></span><br><span class="line">查看时间同步源状态：</span><br><span class="line">$ chronyc sourcestats -v</span><br><span class="line"></span><br><span class="line">校准时间服务器：</span><br><span class="line">$ chronyc tracking</span><br><span class="line"></span><br><span class="line">立即步进地校正时钟</span><br><span class="line">$ chronyc -a makestep</span><br></pre></td></tr></table></figure>

<h2 id="时间同步问题no-server-suitable-for-synchronization-found"><a href="#时间同步问题no-server-suitable-for-synchronization-found" class="headerlink" title="时间同步问题no server suitable for synchronization found"></a>时间同步问题no server suitable for synchronization found</h2><p>在客户端和服务端分别按照以下步骤进行问题排查。</p>
<ol>
<li>检查防火墙</li>
<li>ping内部ip（路由）</li>
<li>ping外部地址（百度）<br>然后试着重启服务。</li>
</ol>
<h1 id="ntpdate"><a href="#ntpdate" class="headerlink" title="ntpdate"></a>ntpdate</h1><p>ntpdate可用来手动强制同步时间。</p>
<ol>
<li>安装ntpdate <code>yum -y install ntpdate</code></li>
<li>强制同步时间 <code>ntpdate -d time1.aliyun.com</code></li>
</ol>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">chrony</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">ntpdate</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-linux-chrony-ntpdate/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-linux-install-font" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-linux-install-font/">linux安装中文字体</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-linux-install-font/" class="archive-article-date">
  	<time datetime="2022-10-26T08:40:20.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>将需要安装的字体上传到linux的<code>/usr/share/fonts</code>目录。（TTC或TTF都可以）</li>
<li>执行以下命令更新字体缓存<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fc-cache -fv  <span class="comment">#如果命令未安装可执行：yum install fontconfig 或 apt-get install fontconfig</span></span><br></pre></td></tr></table></figure></li>
<li>执行<code>fc-list</code>或<code>fc-list :lang=zh</code>验证字体安装效果。</li>
</ol>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">linux</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-linux-install-font/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-211119-k8s-update-ca" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/10/26/211119-k8s-update-ca/">k8s证书续期</a>
    </h1>
  

        
        <a href="/2022/10/26/211119-k8s-update-ca/" class="archive-article-date">
  	<time datetime="2022-10-26T08:39:25.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2022-10-26</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="检查证书过期时间"><a href="#检查证书过期时间" class="headerlink" title="检查证书过期时间"></a>检查证书过期时间</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 方法1</span><br><span class="line">kubeadm alpha certs check-expiration</span><br><span class="line"># 方法2</span><br><span class="line">openssl x509 -noout -dates -in /etc/kubernetes/pki/apiserver.crt</span><br><span class="line">kubeadm alpha certs 命令详解：</span><br><span class="line">Available Commands:</span><br><span class="line">  certificate-key  生成证书和key</span><br><span class="line">  check-expiration  检测证书过期时间</span><br><span class="line">  renew            续订Kubernetes集群的证书</span><br><span class="line"></span><br><span class="line">  kubeadm alpha certs命令仅支持v1.15及其以上的版本。</span><br></pre></td></tr></table></figure>

<h1 id="手动续订证书一年"><a href="#手动续订证书一年" class="headerlink" title="手动续订证书一年"></a>手动续订证书一年</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 将所有证书续签一年(如果只续签apiserver证书的时间，可执行 kubeadm  alpha certs renew apiserver )</span><br><span class="line">kubeadm alpha certs renew all</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="重启kubelet，并查看新的过期时间"><a href="#重启kubelet，并查看新的过期时间" class="headerlink" title="重启kubelet，并查看新的过期时间"></a>重启kubelet，并查看新的过期时间</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 重启kubelet</span><br><span class="line">systemctl restart kubelet</span><br><span class="line"># 查看新的过期时间</span><br><span class="line">kubeadm alpha certs check-expiration</span><br></pre></td></tr></table></figure>


<h1 id="备注"><a href="#备注" class="headerlink" title="备注"></a>备注</h1><p>如果已上步骤后，还是不好使，那么尝试重启master节点的主机。重启后还不好使，那么再试着执行以下两步。</p>
<ol>
<li>更新用户配置<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kubeadm alpha kubeconfig user --client-name=admin</span><br><span class="line">kubeadm alpha kubeconfig user --org system:masters --client-name kubernetes-admin  &gt; /etc/kubernetes/admin.conf</span><br><span class="line">kubeadm alpha kubeconfig user --client-name system:kube-controller-manager &gt; /etc/kubernetes/controller-manager.conf</span><br><span class="line">kubeadm alpha kubeconfig user --org system:nodes --client-name system:node:$(hostname) &gt; /etc/kubernetes/kubelet.conf</span><br><span class="line">kubeadm alpha kubeconfig user --client-name system:kube-scheduler &gt; /etc/kubernetes/scheduler.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>用更新后的admin.conf替换&#x2F;root&#x2F;.kube&#x2F;config文件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br></pre></td></tr></table></figure></li>
</ol>
<p>然后再重启kubelet,如果不好使，再重启master主机，再不好使，百度吧。</p>
<p>官方文档：<a target="_blank" rel="noopener" href="https://kubernetes.io/zh/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/">https://kubernetes.io/zh/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/</a><br>参考博文：<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42562106/article/details/107025507">https://blog.csdn.net/weixin_42562106/article/details/107025507</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/swan_tang/article/details/115755311">https://blog.csdn.net/swan_tang/article/details/115755311</a></p>
<p>（完）</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">k8s</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2022/10/26/211119-k8s-update-ca/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2022 Code0
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="./",n(0)}([function(t,n,r){r(195),t.exports=r(191)},function(t,n,r){var e=r(3),i=r(52),o=r(27),u=r(28),c=r(53),f="prototype",a=function(t,n,r){var s,l,h,v,p=t&a.F,d=t&a.G,y=t&a.S,g=t&a.P,b=t&a.B,m=d?e:y?e[n]||(e[n]={}):(e[n]||{})[f],x=d?i:i[n]||(i[n]={}),w=x[f]||(x[f]={});d&&(r=n);for(s in r)l=!p&&m&&void 0!==m[s],h=(l?m:r)[s],v=b&&l?c(h,e):g&&"function"==typeof h?c(Function.call,h):h,m&&u(m,s,h,t&a.U),x[s]!=h&&o(x,s,v),g&&w[s]!=h&&(w[s]=h)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(6);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(126)("wks"),i=r(76),o=r(3).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(94),i=r(33);t.exports=function(t){return e(i(t))}},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(167),o=r(50),u=Object.defineProperty;n.f=r(10)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(14),i=r(22);t.exports=r(12)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(20),i=r(58),o=r(42),u=Object.defineProperty;n.f=r(12)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(40)("wks"),i=r(23),o=r(5).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(67),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(46);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(63),i=r(34);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(21);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(11),i=r(66);t.exports=r(10)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(3),i=r(27),o=r(24),u=r(76)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(52).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(1),i=r(4),o=r(46),u=function(t,n,r,e){var i=String(o(t)),u="<"+n;return""!==r&&(u+=" "+r+'="'+String(e).replace(/"/g,"&quot;")+'"'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(u),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(115),i=r(46);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(116),i=r(66),o=r(30),u=r(50),c=r(24),f=r(167),a=Object.getOwnPropertyDescriptor;n.f=r(10)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(24),i=r(17),o=r(145)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14).f,i=r(8),o=r(15)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(40)("keys"),i=r(23);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(5),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(21);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(36),u=r(44),c=r(14).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){n.f=r(15)},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(53),i=r(115),o=r(17),u=r(16),c=r(203);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),b=i(g),m=e(c,p,3),x=u(b.length),w=0,S=r?v(n,x):f?v(n,0):void 0;x>w;w++)if((h||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(1),i=r(52),o=r(4);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(6);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(91),u=r(13),c="prototype",f=function(t,n,r){var a,s,l,h=t&f.F,v=t&f.G,p=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,b=v?i:i[n]||(i[n]={}),m=b[c],x=v?e:p?e[n]:(e[n]||{})[c];v&&(r=n);for(a in r)(s=!h&&x&&void 0!==x[a])&&a in b||(l=s?x[a]:r[a],b[a]=v&&"function"!=typeof x[a]?r[a]:y&&s?o(l,e):g&&x[a]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[c]=t[c],n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((b.virtual||(b.virtual={}))[a]=l,t&f.R&&m&&!m[a]&&u(m,a,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(26);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(183),i=r(1),o=r(126)("metadata"),u=o.store||(o.store=new(r(186))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){"use strict";if(r(10)){var e=r(69),i=r(3),o=r(4),u=r(1),c=r(127),f=r(152),a=r(53),s=r(68),l=r(66),h=r(27),v=r(73),p=r(67),d=r(16),y=r(75),g=r(50),b=r(24),m=r(180),x=r(114),w=r(6),S=r(17),_=r(137),O=r(70),E=r(32),P=r(71).f,j=r(154),F=r(76),M=r(7),A=r(48),N=r(117),T=r(146),I=r(155),k=r(80),L=r(123),R=r(74),C=r(130),D=r(160),U=r(11),W=r(31),G=U.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K="ArrayBuffer",J="Shared"+K,Y="BYTES_PER_ELEMENT",H="prototype",$=Array[H],X=f.ArrayBuffer,Q=f.DataView,Z=A(0),tt=A(2),nt=A(3),rt=A(4),et=A(5),it=A(6),ot=N(!0),ut=N(!1),ct=I.values,ft=I.keys,at=I.entries,st=$.lastIndexOf,lt=$.reduce,ht=$.reduceRight,vt=$.join,pt=$.sort,dt=$.slice,yt=$.toString,gt=$.toLocaleString,bt=M("iterator"),mt=M("toStringTag"),xt=F("typed_constructor"),wt=F("def_constructor"),St=c.CONSTR,_t=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Pt=A(1,function(t,n){return Tt(T(t,t[wt]),n)}),jt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ft=!!q&&!!q[H].set&&o(function(){new q(1).set({})}),Mt=function(t,n){if(void 0===t)throw z(Et);var r=+t,e=d(t);if(n&&!m(r,e))throw V(Et);return e},At=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Nt=function(t){if(w(t)&&_t in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,n){if(!(w(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(n)},It=function(t,n){return kt(T(t,t[wt]),n)},kt=function(t,n){for(var r=0,e=n.length,i=Tt(t,e);e>r;)i[r]=n[r++];return i},Lt=function(t,n,r){G(t,n,{get:function(){return this._d[r]}})},Rt=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=j(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=d(c.length),i=Tt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Ct=function(){for(var t=0,n=arguments.length,r=Tt(this,n);n>t;)r[t]=arguments[t++];return r},Dt=!!q&&o(function(){gt.call(new q(1))}),Ut=function(){return gt.apply(Dt?dt.call(Nt(this)):Nt(this),arguments)},Wt={copyWithin:function(t,n){return D.call(Nt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Nt(this),arguments)},filter:function(t){return It(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return vt.apply(Nt(this),arguments)},lastIndexOf:function(t){return st.apply(Nt(this),arguments)},map:function(t){return Pt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Nt(this),arguments)},reduceRight:function(t){return ht.apply(Nt(this),arguments)},reverse:function(){for(var t,n=this,r=Nt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,n){var r=Nt(this),e=r.length,i=y(t,e);return new(T(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-i))}},Gt=function(t,n){return It(this,dt.call(Nt(this),t,n))},Bt=function(t){Nt(this);var n=At(arguments[1],1),r=this.length,e=S(t),i=d(e.length),o=0;if(i+n>r)throw V(Et);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return at.call(Nt(this))},keys:function(){return ft.call(Nt(this))},values:function(){return ct.call(Nt(this))}},zt=function(t,n){return w(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},qt=function(t,n){return zt(t,n=g(n,!0))?l(2,t[n]):B(t,n)},Kt=function(t,n,r){return!(zt(t,n=g(n,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?G(t,n,r):(t[n]=r.value,t)};St||(W.f=qt,U.f=Kt),u(u.S+u.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Kt}),o(function(){yt.call({})})&&(yt=gt=function(){return vt.call(this)});var Jt=v({},Wt);v(Jt,Vt),h(Jt,bt,Vt.values),v(Jt,{slice:Gt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ut}),Lt(Jt,"buffer","b"),Lt(Jt,"byteOffset","o"),Lt(Jt,"byteLength","l"),Lt(Jt,"length","e"),G(Jt,mt,{get:function(){return this[_t]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="Uint8Array"!=a,v="get"+t,p="set"+t,y=i[a],g=y||{},b=y&&E(y),m=!y||!c.ABV,S={},_=y&&y[H],j=function(t,r){var e=t._d;return e.v[v](r*n+e.o,jt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,jt)},M=function(t,n){G(t,n,{get:function(){return j(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,i){s(t,y,a,"_d");var o,u,c,f,l=0,v=0;if(w(r)){if(!(r instanceof X||(f=x(r))==K||f==J))return _t in r?kt(y,r):Rt.call(y,r);o=r,v=At(e,n);var p=r.byteLength;if(void 0===i){if(p%n)throw V(Et);if((u=p-v)<0)throw V(Et)}else if((u=d(i)*n)+v>p)throw V(Et);c=u/n}else c=Mt(r,!0),u=c*n,o=new X(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new Q(o)});l<c;)M(t,l++)}),_=y[H]=O(Jt),h(_,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,i){s(t,y,a);var o;return w(r)?r instanceof X||(o=x(r))==K||o==J?void 0!==i?new g(r,At(e,n),i):void 0!==e?new g(r,At(e,n)):new g(r):_t in r?kt(y,r):Rt.call(y,r):new g(Mt(r,l))}),Z(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||h(y,t,g[t])}),y[H]=_,e||(_.constructor=y));var A=_[bt],N=!!A&&("values"==A.name||void 0==A.name),T=Vt.values;h(y,xt,!0),h(_,_t,a),h(_,Ot,!0),h(_,wt,y),(f?new y(1)[mt]==a:mt in _)||G(_,mt,{get:function(){return a}}),S[a]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,a,{BYTES_PER_ELEMENT:n,from:Rt,of:Ct}),Y in _||h(_,Y,n),u(u.P,a,Wt),R(a),u(u.P+u.F*Ft,a,{set:Bt}),u(u.P+u.F*!N,a,Vt),u(u.P+u.F*(_.toString!=yt),a,{toString:yt}),u(u.P+u.F*o(function(){new y(1).slice()}),a,{slice:Gt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Ut}),k[a]=N?A:T,e||N||h(_,bt,T)}}else t.exports=function(){}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),i=r(5).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){t.exports=!r(12)&&!r(18)(function(){return 7!=Object.defineProperty(r(57)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){"use strict";var e=r(36),i=r(51),o=r(64),u=r(13),c=r(8),f=r(35),a=r(96),s=r(38),l=r(103),h=r(15)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n,r){var e=r(20),i=r(100),o=r(34),u=r(39)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(57)("iframe"),e=o.length;for(n.style.display="none",r(93).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(63),i=r(34).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(8),i=r(9),o=r(90)(!1),u=r(39)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){t.exports=r(13)},function(t,n,r){var e=r(76)("meta"),i=r(6),o=r(24),u=r(11).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(4)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),i=r(173),o=r(133),u=r(145)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(132)("iframe"),e=o.length;for(n.style.display="none",r(135).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(175),i=r(133).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(175),i=r(133);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(28);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(3),i=r(11),o=r(10),u=r(7)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7)("unscopables"),i=Array.prototype;void 0==i[e]&&r(27)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(53),i=r(169),o=r(137),u=r(2),c=r(16),f=r(154),a={},s={},n=t.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:f(t),b=e(r,l,n?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===a||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,b,p.value,n))===a||y===s)return y};n.BREAK=a,n.RETURN=s},function(t,n){t.exports={}},function(t,n,r){var e=r(11).f,i=r(24),o=r(7)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(1),i=r(46),o=r(4),u=r(150),c="["+u+"]",f="​",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n,r){t.exports={default:r(86),__esModule:!0}},function(t,n,r){t.exports={default:r(87),__esModule:!0}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(84),o=e(i),u=r(83),c=e(u),f="function"==typeof c.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":typeof t};n.default="function"==typeof c.default&&"symbol"===f(o.default)?function(t){return void 0===t?"undefined":f(t)}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":void 0===t?"undefined":f(t)}},function(t,n,r){r(110),r(108),r(111),r(112),t.exports=r(25).Symbol},function(t,n,r){r(109),r(113),t.exports=r(44).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(9),i=r(106),o=r(105);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(88);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(19),i=r(62),o=r(37);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){t.exports=r(5).document&&document.documentElement},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(60),i=r(22),o=r(38),u={};r(13)(u,r(15)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(9);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){var e=r(23)("meta"),i=r(21),o=r(8),u=r(14).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(18)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n,r){var e=r(14),i=r(20),o=r(19);t.exports=r(12)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(37),i=r(22),o=r(9),u=r(42),c=r(8),f=r(58),a=Object.getOwnPropertyDescriptor;n.f=r(12)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(9),i=r(61).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(8),i=r(77),o=r(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(41),i=r(33);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(41),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(41),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(89),i=r(97),o=r(35),u=r(9);t.exports=r(59)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){},function(t,n,r){"use strict";var e=r(104)(!0);r(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(5),i=r(8),o=r(12),u=r(51),c=r(64),f=r(99).KEY,a=r(18),s=r(40),l=r(38),h=r(23),v=r(15),p=r(44),d=r(43),y=r(98),g=r(92),b=r(95),m=r(20),x=r(9),w=r(42),S=r(22),_=r(60),O=r(102),E=r(101),P=r(14),j=r(19),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(61).f=O.f=Z,r(37).f=X,r(62).f=tt,o&&!r(36)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(13)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){r(43)("asyncIterator")},function(t,n,r){r(43)("observable")},function(t,n,r){r(107);for(var e=r(5),i=r(13),o=r(35),u=r(15)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var a=c[f],s=e[a],l=s&&s.prototype;l&&!l[u]&&i(l,u,a),o[a]=o.Array}},function(t,n,r){var e=r(45),i=r(7)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(30),i=r(16),o=r(75);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){"use strict";var e=r(3),i=r(1),o=r(28),u=r(73),c=r(65),f=r(79),a=r(68),s=r(6),l=r(4),h=r(123),v=r(81),p=r(136);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?"set":"add",w=m&&m.prototype,S={},_=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[x](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),j=h(function(t){new m(t)}),F=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});j||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||E)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return v(m,t),S[t]=m,i(i.G+i.W+i.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){"use strict";var e=r(27),i=r(28),o=r(4),u=r(46),c=r(7);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}
},function(t,n,r){"use strict";var e=r(2);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(6),i=r(45),o=r(7)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(7)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){t.exports=r(69)||!r(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(3)[t]})},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(3),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){for(var e,i=r(3),o=r(27),u=r(76),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},function(t,n){"use strict";var r={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:-1==t.indexOf("MicroMessenger")}}()};t.exports=r},function(t,n,r){"use strict";var e=r(85),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):r[t]||t}function n(t){return e[t]}var r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e={};for(var u in r)e[r[u]]=u;return r["&apos;"]="'",e["'"]="&#39;",{encode:function(t){return t?(""+t).replace(/['<> "&]/g,n).replace(/\r?\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(/<br\s*\/?>/gi,"\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,t).replace(/\u00a0/g," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r+=2)n.push(String.fromCharCode("0x"+t.slice(r,r+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,r=t.length;r>n;n++)t[n]=o.encodeObject(t[n]);else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(var e in t)t[e]=o.encodeObject(t[e]);else if("string"==typeof t)return o.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=o},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(11),i=r(66);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(6),i=r(3).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(7)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){t.exports=r(3).document&&document.documentElement},function(t,n,r){var e=r(6),i=r(144).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){var e=r(80),i=r(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(45);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(70),i=r(66),o=r(81),u={};r(27)(u,r(7)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(69),i=r(1),o=r(28),u=r(27),c=r(24),f=r(80),a=r(139),s=r(81),l=r(32),h=r(7)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(3),i=r(151).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(45)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(o){var s=!0,l=document.createTextNode("");new o(a).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(a)}}else r=function(){i.call(e,a)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(6),i=r(2),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(53)(Function.call,r(31).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n,r){var e=r(126)("keys"),i=r(76);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(2),i=r(26),o=r(7)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(67),i=r(46);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(122),i=r(46);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){"use strict";var e=r(67),i=r(46);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e,i,o,u=r(53),c=r(121),f=r(135),a=r(132),s=r(3),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=0,y={},g="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},m=function(t){b.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete y[t]},"process"==r(45)(l)?e=function(t){l.nextTick(u(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e=g in a("script")?function(t){f.appendChild(a("script"))[g]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";var e=r(3),i=r(10),o=r(69),u=r(127),c=r(27),f=r(73),a=r(4),s=r(68),l=r(67),h=r(16),v=r(71).f,p=r(11).f,d=r(130),y=r(81),g="ArrayBuffer",b="DataView",m="prototype",x="Wrong length!",w="Wrong index!",S=e[g],_=e[b],O=e.Math,E=e.RangeError,P=e.Infinity,j=S,F=O.abs,M=O.pow,A=O.floor,N=O.log,T=O.LN2,I="buffer",k="byteLength",L="byteOffset",R=i?"_b":I,C=i?"_l":k,D=i?"_o":L,U=function(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===P?(i=t!=t?1:0,e=f):(e=A(N(t)/T),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+a>=1?s/o:s*M(2,1-a),t*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*M(2,n),e+=a):(i=t*M(2,a-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u},W=function(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-P:P;e+=M(2,n),s-=u}return(a?-1:1)*e*M(2,s-n)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return U(t,52,8)},K=function(t){return U(t,23,4)},J=function(t,n,r){p(t[m],n,{get:function(){return this[r]}})},Y=function(t,n,r,e){var i=+r,o=l(i);if(i!=o||o<0||o+n>t[C])throw E(w);var u=t[R]._b,c=o+t[D],f=u.slice(c,c+n);return e?f:f.reverse()},H=function(t,n,r,e,i,o){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[C])throw E(w);for(var f=t[R]._b,a=c+t[D],s=e(+i),h=0;h<n;h++)f[a+h]=s[o?h:n-h-1]},$=function(t,n){s(t,S,g);var r=+n,e=h(r);if(r!=e)throw E(x);return e};if(u.ABV){if(!a(function(){new S})||!a(function(){new S(.5)})){S=function(t){return new j($(this,t))};for(var X,Q=S[m]=j[m],Z=v(j),tt=0;Z.length>tt;)(X=Z[tt++])in S||c(S,X,j[X]);o||(Q.constructor=S)}var nt=new _(new S(2)),rt=_[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||f(_[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else S=function(t){var n=$(this,t);this._b=d.call(Array(n),0),this[C]=n},_=function(t,n,r){s(this,_,b),s(t,S,b);var e=t[C],i=l(n);if(i<0||i>e)throw E("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw E(x);this[R]=t,this[D]=i,this[C]=r},i&&(J(S,k,"_l"),J(_,I,"_b"),J(_,k,"_l"),J(_,L,"_o")),f(_[m],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var n=Y(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Y(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return G(Y(this,4,t,arguments[1]))},getUint32:function(t){return G(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,V,n,arguments[2])},setUint16:function(t,n){H(this,2,t,V,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,K,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,q,n,arguments[2])}});y(S,g),y(_,b),c(_[m],u.VIEW,!0),n[g]=S,n[b]=_},function(t,n,r){var e=r(3),i=r(52),o=r(69),u=r(182),c=r(11).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(114),i=r(7)("iterator"),o=r(80);t.exports=r(52).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(78),i=r(170),o=r(80),u=r(30);t.exports=r(140)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){function r(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=r},function(t,n){function r(t,n){if(t.classList)t.classList.remove(n);else{var r=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(r," ")}}t.exports=r},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(n){try{return s.call(null,t,0)}catch(n){return s.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&v&&(d=!1,v.length?p=v.concat(p):y=-1,p.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var n=p.length;n;){for(v=p,p=[];++y<n;)v&&v[y].run();y=-1,n=p.length}v=null,d=!1,o(t)}}function f(t,n){this.fun=t,this.array=n}function a(){}var s,l,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var v,p=[],d=!1,y=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new f(t,n)),1!==p.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){var e=r(45);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n,r){var e=r(79);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(26),i=r(17),o=r(115),u=r(16);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(26),i=r(6),o=r(121),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?f(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){"use strict";var e=r(11).f,i=r(70),o=r(73),u=r(53),c=r(68),f=r(46),a=r(79),s=r(140),l=r(170),h=r(74),v=r(10),p=r(65).fastKey,d=v?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[s],t)});return o(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),v&&e(l.prototype,"size",{get:function(){return f(this[d])}}),l},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){var e=r(114),i=r(161);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){"use strict";var e=r(73),i=r(65).getWeak,o=r(2),u=r(6),c=r(68),f=r(79),a=r(48),s=r(24),l=a(5),h=a(6),v=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._i=v++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){t.exports=!r(10)&&!r(4)(function(){return 7!=Object.defineProperty(r(132)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(6),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(2);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){"use strict";var e=r(72),i=r(125),o=r(116),u=r(17),c=r(115),f=Object.assign;t.exports=!f||r(4)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:f},function(t,n,r){var e=r(11),i=r(2),o=r(72);t.exports=r(10)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(30),i=r(71).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(24),i=r(30),o=r(117)(!1),u=r(145)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(72),i=r(30),o=r(116).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(71),i=r(125),o=r(2),u=r(3).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(3).parseFloat,i=r(82).trim;t.exports=1/e(r(150)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(3).parseInt,i=r(82).trim,o=r(150),u=/^[\-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(16),i=r(149),o=r(46);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){n.f=r(7)},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){r(10)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(120)})},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(48)(0),o=r(28),u=r(65),c=r(172),f=r(166),a=r(6),s=u.getWeak,l=Object.isExtensible,h=f.ufstore,v={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=s(t);return!0===n?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(this,t,n)}},y=t.exports=r(118)("WeakMap",p,d,f,!0,!0);7!=(new y).set((Object.freeze||Object)(v),7).get(v)&&(e=f.getConstructor(p),c(e.prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=y.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!l(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},,,,function(t,n){"use strict";function r(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}if(yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".toc-number").forEach(function(t){t.style.display="none"})}var n=document.querySelector("#js-aboutme");n&&0!==n.length&&(n.innerHTML=n.innerText)}t.exports={init:r}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var r=/\/|index.html/g;return t.replace(r,"")===n.replace(r,"")}function o(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,r=0,e=t.length;r<e;r++){var o=t[r];i(n,o.getAttribute("href"))&&(0,h.default)(o,"active")}}function u(t){for(var n=t.offsetLeft,r=t.offsetParent;null!==r;)n+=r.offsetLeft,r=r.offsetParent;return n}function c(t){for(var n=t.offsetTop,r=t.offsetParent;null!==r;)n+=r.offsetTop,r=r.offsetParent;return n}function f(t,n,r,e,i){var o=u(t),f=c(t)-n;if(f-r<=i){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,d.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(r||f)+"px",a.style.left=o+"px",a.style.zIndex=e||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");f(t,document.body.scrollTop,-63,2,0),f(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}var l=r(156),h=e(l),v=r(157),p=(e(v),r(382)),d=e(p),y=r(128),g=e(y),b=r(190),m=e(b),x=r(129);(function(){g.default.versions.mobile&&window.screen.width<800&&(o(),s())})(),(0,x.addLoadEvent)(function(){m.default.init()}),t.exports={}},,,,function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(381),r(391),r(198),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},,,function(t,n,r){r(210),t.exports=r(52).RegExp.escape},,,,function(t,n,r){var e=r(6),i=r(138),o=r(7)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(202);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(2),i=r(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(72),i=r(125),o=r(116);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(72),i=r(30);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){"use strict";var e=r(208),i=r(121),o=r(26);t.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,f=!1;n>u;)(r[u]=arguments[u++])===c&&(f=!0);return function(){var e,o=this,u=arguments.length,a=0,s=0;if(!f&&!u)return i(t,r,o);if(e=r.slice(),f)for(;n>a;a++)e[a]===c&&(e[a]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},function(t,n,r){t.exports=r(3)},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){var e=r(1),i=r(209)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,r){var e=r(1);e(e.P,"Array",{copyWithin:r(160)}),r(78)("copyWithin")},function(t,n,r){"use strict";var e=r(1),i=r(48)(4);e(e.P+e.F*!r(47)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.P,"Array",{fill:r(130)}),r(78)("fill")},function(t,n,r){"use strict";var e=r(1),i=r(48)(2);e(e.P+e.F*!r(47)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(0),o=r(47)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(53),i=r(1),o=r(17),u=r(169),c=r(137),f=r(16),a=r(131),s=r(154);i(i.S+i.F*!r(123)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||v==Array&&c(b))for(n=f(h.length),r=new v(n);n>g;g++)a(r,g,y?d(h[g],g):h[g]);else for(l=b.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(1),i=r(117)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(47)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.S,"Array",{isArray:r(138)})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=[].join;e(e.P+e.F*(r(115)!=Object||!r(47)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(67),u=r(16),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(47)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(1);e(e.P+e.F*!r(47)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(131);e(e.S+e.F*r(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(135),o=r(45),u=r(75),c=r(16),f=[].slice;e(e.P+e.F*r(4)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(3);e(e.P+e.F*!r(47)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(26),o=r(17),u=r(4),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(47)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){r(74)("Array")},function(t,n,r){var e=r(1);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){
if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50);e(e.P+e.F*r(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(7)("toPrimitive"),i=Date.prototype;e in i||r(27)(i,e,r(204))},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(28)(e,o,function(){var t=c.call(this);return t===t?u.call(this):i})},function(t,n,r){var e=r(1);e(e.P,"Function",{bind:r(163)})},function(t,n,r){"use strict";var e=r(6),i=r(32),o=r(7)("hasInstance"),u=Function.prototype;o in u||r(11).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(11).f,i=r(66),o=r(24),u=Function.prototype,c="name",f=Object.isExtensible||function(){return!0};c in u||r(10)&&e(u,c,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(/^\s*function ([^ (]*)/)[1];return o(t,c)||!f(t)||e(t,c,i(5,n)),n}catch(t){return""}}})},function(t,n,r){var e=r(1),i=r(171),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(1),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(1),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(1),i=r(142);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(1),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(1),i=r(141);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(1),i=r(142),o=Math.pow,u=o(2,-52),c=o(2,-23),f=o(2,127)*(2-c),a=o(2,-126),s=function(t){return t+1/u-1/u};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),o=i(t);return e<a?o*s(e/a/c)*a*c:(n=(1+c/u)*e,r=n-(n-e),r>f||r!=r?o*(1/0):o*r)}})},function(t,n,r){var e=r(1),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)r=i(arguments[u++]),f<r?(e=f/r,o=o*e*e+1,f=r):r>0?(e=r/f,o+=e*e):o+=r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(1),i=Math.imul;e(e.S+e.F*r(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log1p:r(171)})},function(t,n,r){var e=r(1);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(1);e(e.S,"Math",{sign:r(142)})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S+e.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(1);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(45),u=r(136),c=r(50),f=r(4),a=r(71).f,s=r(31).f,l=r(11).f,h=r(82).trim,v="Number",p=e[v],d=p,y=p.prototype,g=o(r(70)(y))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(g?f(function(){y.valueOf.call(r)}):o(r)!=v)?u(new d(m(n)),r,p):m(n)};for(var x,w=r(10)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,x=w[S])&&!i(p,x)&&l(p,x,s(d,x));p.prototype=y,y.constructor=p,r(28)(e,v,p)}},function(t,n,r){var e=r(1);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(1),i=r(3).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(1);e(e.S,"Number",{isInteger:r(168)})},function(t,n,r){var e=r(1);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(1),i=r(168),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(1);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(1);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(1),i=r(178);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){"use strict";var e=r(1),i=r(67),o=r(159),u=r(149),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call(l,7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2==1?d(t,n-1,r*t):d(t*t,n/2,r)},y=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),g="",b=l;if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(g="-",f=-f),f>1e-21)if(n=y(f*d(2,69,1))-69,r=n<0?f*d(2,-n,1):f/d(2,n,1),r*=4503599627370496,(n=52-n)>0){for(h(0,r),e=a;e>=7;)h(1e7,0),e-=7;for(h(d(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),h(1,1),v(2),b=p()}else h(0,r),h(1<<-n,0),b=p()+u.call(l,a);return a>0?(c=b.length,b=g+(c<=a?"0."+u.call(l,a-c)+b:b.slice(0,c-a)+"."+b.slice(c-a))):b=g+b,b}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=r(159),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(1);e(e.S+e.F,"Object",{assign:r(172)})},function(t,n,r){var e=r(1);e(e.S,"Object",{create:r(70)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperties:r(173)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperty:r(11).f})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(30),i=r(31).f;r(49)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){r(49)("getOwnPropertyNames",function(){return r(174).f})},function(t,n,r){var e=r(17),i=r(32);r(49)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6);r(49)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(6);r(49)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(6);r(49)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(1);e(e.S,"Object",{is:r(180)})},function(t,n,r){var e=r(17),i=r(72);r(49)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(1);e(e.S,"Object",{setPrototypeOf:r(144).set})},function(t,n,r){"use strict";var e=r(114),i={};i[r(7)("toStringTag")]="z",i+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(1),i=r(178);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){"use strict";var e,i,o,u=r(69),c=r(3),f=r(53),a=r(114),s=r(1),l=r(6),h=r(26),v=r(68),p=r(79),d=r(146),y=r(151).set,g=r(143)(),b="Promise",m=c.TypeError,x=c.process,w=c[b],x=c.process,S="process"==a(x),_=function(){},O=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[r(7)("species")]=function(t){t(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===w&&n===o},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},j=function(t){return E(w,t)?new F(t):new i(t)},F=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},M=function(t){try{t()}catch(t){return{error:t}}},A=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,f=n.reject,a=n.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?r=e:(a&&a.enter(),r=u(e),a&&a.exit()),r===n.promise?f(m("Promise-chain cycle")):(o=P(r))?o.call(r,c,f):c(r)):f(e)}catch(t){f(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,i=t._v;if(T(t)&&(n=M(function(){S?x.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=S||T(t)?2:1),t._a=void 0,n)throw n.error})},T=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!T(n.promise))return!1;return!0},I=function(t){y.call(c,function(){var n;S?x.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},k=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),A(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(k,e,1))}catch(t){k.call(e,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){k.call({_w:r,_d:!1},t)}}};O||(w=function(t){v(this,w,b,"_h"),h(t),e.call(this);try{t(f(L,this,1),f(k,this,1))}catch(t){k.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(73)(w.prototype,{then:function(t,n){var r=j(d(this,w));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=S?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(k,t,1)}),s(s.G+s.W+s.F*!O,{Promise:w}),r(81)(w,b),r(74)(b),o=r(52)[b],s(s.S+s.F*!O,b,{reject:function(t){var n=j(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!O),b,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var n=j(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(O&&r(123)(function(t){w.all(t).catch(_)})),b,{all:function(t){var n=this,r=j(n),e=r.resolve,i=r.reject,o=M(function(){var r=[],o=0,u=1;p(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o&&i(o.error),r.promise},race:function(t){var n=this,r=j(n),e=r.reject,i=M(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n,r){var e=r(1),i=r(26),o=r(2),u=(r(3).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(4)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(1),i=r(70),o=r(26),u=r(2),c=r(6),f=r(4),a=r(163),s=(r(3).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(11),i=r(1),o=r(2),u=r(50);i(i.S+i.F*r(4)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(31).f,o=r(2);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(1),i=r(2),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(139)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(31),i=r(1),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(1),i=r(32),o=r(2);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return a(t)===s?t[n]:(r=i.f(t,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:f(c=o(t))?e(c,n,s):void 0}var i=r(31),o=r(32),u=r(24),c=r(1),f=r(6),a=r(2);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(1),i=r(2),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{ownKeys:r(177)})},function(t,n,r){var e=r(1),i=r(2),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(144);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f,h,v=arguments.length<4?t:arguments[3],p=o.f(s(t),n);if(!p){if(l(h=u(t)))return e(h,n,r,v);p=a(0)}return c(p,"value")?!(!1===p.writable||!l(v)||(f=o.f(v,n)||a(0),f.value=r,i.f(v,n,f),0)):void 0!==p.set&&(p.set.call(v,r),!0)}var i=r(11),o=r(31),u=r(32),c=r(24),f=r(1),a=r(66),s=r(2),l=r(6);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(3),i=r(136),o=r(11).f,u=r(71).f,c=r(122),f=r(120),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(10)&&(!p||r(4)(function(){return v[r(7)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var d=u(s),y=0;d.length>y;)!function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=a,a.prototype=l,r(28)(e,"RegExp",a)}r(74)("RegExp")},function(t,n,r){r(119)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(119)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("split",2,function(t,n,e){"use strict";var i=r(122),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,c,l,h,v,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,d+"g");for(s||(e=new RegExp("^"+b.source+"$(?!\\s)",d));(c=b.exec(r))&&!((l=c.index+c[0][f])>y&&(p.push(r.slice(y,c.index)),!s&&c[f]>1&&c[0].replace(e,function(){for(v=1;v<arguments[f]-2;v++)void 0===arguments[v]&&(c[v]=void 0)}),c[f]>1&&c.index<r[f]&&u.apply(p,c.slice(1)),h=c[0][f],y=l,p[f]>=g));)b[a]===c.index&&b[a]++;return y===r[f]?!h&&b.test("")||p.push(""):p.push(r.slice(y)),p[f]>g?p.slice(0,g):p}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){"use strict";r(184);var e=r(2),i=r(120),o=r(10),u="toString",c=/./[u],f=function(t){r(28)(RegExp.prototype,u,t,!0)};r(4)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=u&&f(function(){return c.call(this)})},function(t,n,r){"use strict";r(29)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(29)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(29)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(29)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="endsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{endsWith:function(t){var n=o(this,t,u),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),f=void 0===r?e:Math.min(i(r),e),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,r){"use strict";r(29)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(29)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(29)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){var e=r(1),i=r(75),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){"use strict";var e=r(1),i=r(148),o="includes";e(e.P+e.F*r(134)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";r(29)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";var e=r(147)(!0);r(140)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";r(29)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){var e=r(1),i=r(30),o=r(16);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){var e=r(1);e(e.P,"String",{repeat:r(149)})},function(t,n,r){"use strict";r(29)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="startsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{startsWith:function(t){var n=o(this,t,u),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(29)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(29)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(29)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){"use strict";r(82)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(10),u=r(1),c=r(28),f=r(65).KEY,a=r(4),s=r(126),l=r(81),h=r(76),v=r(7),p=r(182),d=r(153),y=r(206),g=r(205),b=r(138),m=r(2),x=r(30),w=r(50),S=r(66),_=r(70),O=r(174),E=r(31),P=r(11),j=r(72),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(71).f=O.f=Z,r(116).f=X,r(125).f=tt,o&&!r(69)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(27)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){"use strict";var e=r(1),i=r(127),o=r(152),u=r(2),c=r(75),f=r(16),a=r(6),s=r(3).ArrayBuffer,l=r(146),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||a(t)&&y in t}}),e(e.P+e.U+e.F*r(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(74)(g)},function(t,n,r){var e=r(1);e(e.G+e.W+e.F*!r(127).ABV,{DataView:r(152).DataView})},function(t,n,r){r(55)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){"use strict";var e=r(166);r(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(1),i=r(117)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("includes")},function(t,n,r){var e=r(1),i=r(143)(),o=r(3).process,u="process"==r(45)(o);e(e.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,r){var e=r(1),i=r(45);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Map",{toJSON:r(165)("Map")})},function(t,n,r){var e=r(1);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>16,f=i>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>16)+((o*f>>>0)+(a&r)>>16)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>>16,f=i>>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>>16)+((o*f>>>0)+(a&r)>>>16)}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(1),i=r(176)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){var e=r(1),i=r(177),o=r(30),u=r(31),c=r(131);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=o(t),e=u.f,f=i(r),a={},s=0;f.length>s;)c(a,n=f[s++],e(r,n));return a}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(1),i=r(176)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(52),u=r(143)(),c=r(7)("observable"),f=r(26),a=r(2),s=r(68),l=r(73),h=r(27),v=r(79),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,"Observable","_f")._f=f(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){f(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n="function"==typeof this?this:w,r=d(a(t)[c]);if(r){var e=a(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(74)("Observable")},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,i(r),o(e))}})},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var f=c.get(n);return f.delete(r),!!f.size||c.delete(n)}})},function(t,n,r){var e=r(185),i=r(161),o=r(54),u=r(2),c=r(32),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){
return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function(t,n){return f(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(26),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Set",{toJSON:r(165)("Set")})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(46),o=r(16),u=r(122),c=r(120),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(139)(a,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in f?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new a(e,n)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";r(82)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(82)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){r(153)("asyncIterator")},function(t,n,r){r(153)("observable")},function(t,n,r){var e=r(1);e(e.S,"System",{global:r(3)})},function(t,n,r){for(var e=r(155),i=r(28),o=r(3),u=r(27),c=r(80),f=r(7),a=f("iterator"),s=f("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],v=0;v<5;v++){var p,d=h[v],y=o[d],g=y&&y.prototype;if(g){g[a]||u(g,a,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||i(g,p,e[p],!0)}}},function(t,n,r){var e=r(1),i=r(151);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){var e=r(3),i=r(1),o=r(121),u=r(207),c=e.navigator,f=!!c&&/MSIE .\./.test(c.userAgent),a=function(t){return f?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*f,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,r){r(330),r(269),r(271),r(270),r(273),r(275),r(280),r(274),r(272),r(282),r(281),r(277),r(278),r(276),r(268),r(279),r(283),r(284),r(236),r(238),r(237),r(286),r(285),r(256),r(266),r(267),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(317),r(322),r(329),r(320),r(312),r(313),r(318),r(323),r(325),r(308),r(309),r(310),r(311),r(314),r(315),r(316),r(319),r(321),r(324),r(326),r(327),r(328),r(231),r(233),r(232),r(235),r(234),r(220),r(218),r(224),r(221),r(227),r(229),r(217),r(223),r(214),r(228),r(212),r(226),r(225),r(219),r(222),r(211),r(213),r(216),r(215),r(230),r(155),r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports=r(52)},function(t,n){function r(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var r=t.nextSibling;return r?t.parentNode.insertBefore(n,r):t.parentNode.appendChild(n)}t.exports=r},,,,,,,,,function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new p(e||[]);return u._invoke=s(t,r,c),u}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function n(r,e,o,u){var c=i(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return o=o?o.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var o;this._invoke=e}function s(t,n,r){var e=P;return function(o,u){if(e===F)throw new Error("Generator is already running");if(e===M){if("throw"===o)throw u;return y()}for(r.method=o,r.arg=u;;){var c=r.delegate;if(c){var f=l(c,r);if(f){if(f===A)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===P)throw e=M,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=F;var a=i(t,n,r);if("normal"===a.type){if(e=r.done?M:j,a.arg===A)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=M,r.method="throw",r.arg=a.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===g){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=g,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=i(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,A;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=g),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=g,n.done=!0,n};return e.next=e}}return{next:y}}function y(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},w=x.iterator||"@@iterator",S=x.asyncIterator||"@@asyncIterator",_=x.toStringTag||"@@toStringTag",O="object"==typeof t,E=n.regeneratorRuntime;if(E)return void(O&&(t.exports=E));E=n.regeneratorRuntime=O?t.exports:{},E.wrap=e;var P="suspendedStart",j="suspendedYield",F="executing",M="completed",A={},N={};N[w]=function(){return this};var T=Object.getPrototypeOf,I=T&&T(T(d([])));I&&I!==b&&m.call(I,w)&&(N=I);var k=c.prototype=o.prototype=Object.create(N);u.prototype=k.constructor=c,c.constructor=u,c[_]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(k),t},E.awrap=function(t){return{__await:t}},f(a.prototype),a.prototype[S]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,r,i){var o=new a(e(t,n,r,i));return E.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},f(k),k[_]="Generator",k.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=g),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),c=m.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=g),A}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(158))}])</script><script src="/./main.266c1c.js"></script><script>!function(){!function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)}("/slider.096dc6.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于本站</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">hexo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">GitHub</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">工控机</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">maven</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Eclipse</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">SSH</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">toString</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">RESTful</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">springMVC</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">jstl</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">bytecode</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">jvm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">javap</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">IDEA</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">CLI</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Node.js</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">DevTools</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Shadowsocks</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Hibernate</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">PO</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">VO</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">DAO</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">BO</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">POJO</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">DTO</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">English</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">getter-setter</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">lombok</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">gradle</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">nodejs</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">环境变量</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">MongoDB</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Database</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Thread</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Swagger</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">摇摇车</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">nvm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">smart-npm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">有道</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">shadowsocks</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">随机数</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">random</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">xfce</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">kafka</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">mysql</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Netty</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">tio</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Voovan</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">redis</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ssh</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">路由器</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Docker</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">svn</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">sha校验</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">md5校验</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">位操作</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">字节序</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">logback</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">tls</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ca</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">树莓派</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">dockerfile</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">centos</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">firewall</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">curl</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">wget</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">discuz</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">dns</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">docker</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">emqx</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">harbor</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">helm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">innoSetup</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">java调用C#</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">jenkins</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">k8s</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">chrony</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">ntpdate</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">lvm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">nfs</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">nginx</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">vsftp</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">temp</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">heap、stack</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">堆、栈</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">常量池</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">String</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">jQuery</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">cache</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">缓存</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">网络</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">application.properties</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">SpringBoot</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">BAT</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">批处理</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">CMD</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">&lt;p style=&#34;text-align:left;padding-left:50px&#34;&gt;好记性不如烂笔头。&lt;br/&gt;古人诚不我欺也！！&lt;br/&gt;&lt;br/&gt;随着时间的流逝，发现有很多知识点都遗忘了。本博客的诞生，是为了方便日后自己查找一些遗忘的知识点。内容包含：自己写的、网上的摘抄和转载。&lt;/p&gt;</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>